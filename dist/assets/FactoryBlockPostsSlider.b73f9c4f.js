import{r as u,a as E,b as w,j as r}from"./main.85963571.js";import{H as k}from"./Heading.7fcb7157.js";import{H as $}from"./HeaderSectionFilter.2b642c17.js";import{B as q}from"./BackgroundSection.8495b948.js";import{G as M}from"./glide.esm.b495f968.js";import{c as y,C as K,a as W,b as Y,g as _,d as z,e as J,f as U}from"./Card14Skeleton.4d14f1e2.js";import{C as X}from"./Card9.bccc8855.js";import{C as Z,a as rr}from"./Card10Skeleton.ec7a72e4.js";import{C as er}from"./Card11.c0af6625.js";import{N as ar}from"./NextPrev.2a5236bd.js";import{D as tr}from"./DataStatementBlockV2.f13bb1a3.js";import{C as sr}from"./Card9Skeleton.9929d022.js";import{C as or}from"./Card11Skeleton.e33af0e8.js";import{u as ir}from"./useGqlQuerySection.603be7ff.js";import{u as nr}from"./useGutenbergSectionWithGQLGetPosts.4e14ecfb.js";import"./ButtonSecondary.f276bf76.js";import"./Button.b71e29cf.js";import"./NavItem.f8042f77.js";import"./CardAuthor2.a9c62591.js";import"./formatDate.5c5d9c4d.js";import"./CategoryBadgeList.ed943775.js";import"./Badge.29b60f9e.js";import"./PostCardLikeAction.6310cc12.js";import"./PostFeaturedMedia.8d2a5d59.js";import"./NcImage.bea75434.js";import"./PostTypeFeaturedIcon.3109746b.js";import"./useIntersectionObserver.e91dfa75.js";import"./index.665fa695.js";import"./ReactPlayer.88e1718f.js";import"./ButtonPlayMusicRunningContainer.15579732.js";import"./LoadingVideo.a387bd76.js";import"./index.198f6b73.js";import"./PostCardLikeAndComment.d87c71d1.js";import"./PostCardMeta.d5b9aa12.js";import"./PostMoreActionDropdown.43453dfc.js";import"./NcModal.55dd2582.js";import"./ButtonClose.e0af6517.js";import"./EmptyState.a9cc8fa3.js";import"./useQuery.02694860.js";import"./useLazyQuery.f1e3d5e8.js";const Jr=({className:P="",domNode:T,apiSettings:s,sectionIndex:x})=>{var N;const o=u.exports.useRef(null),{graphQLvariables:p,settings:a,graphQLData:f}=s,V=!p&&!!f,{funcGqlQueryGetPosts:A,loading:dr,IS_SKELETON:i,LISTS_POSTS:h,DONOT_ANY_THING:C,data:H,error:G,fetchMore:cr,setTabActiveId:g,tabActiveId:v}=nr({graphQLData:f,graphQLvariables:p});let c=null;V?c=u.exports.useRef(null):c=ir(A,x).ref;const D=e=>{if(e===-1){g(e);return}e.id!==v&&g(e.id)},t=a.blockLayoutStyle==="layout-2"||a.showFilterTab,n=a.itemPerView||5,I={direction:((N=document.querySelector("html"))==null?void 0:N.getAttribute("dir"))==="rtl"?"rtl":"ltr",perView:n,startAt:i||C?0:a.sliderStartAt,hoverpause:a.sliderHoverpause,animationDuration:a.sliderAnimationDuration||void 0,rewind:a.sliderRewind||!0,autoplay:i||C?!1:a.sliderAutoplayTime||!1,gap:32,bound:!0,breakpoints:{1440:{gap:24},1280:{perView:n-1,gap:24},1023:{perView:n-2||1.2,gap:24},767:{perView:n-2||1.2,gap:20},639:{perView:1.2,gap:20}}};u.exports.useEffect(()=>{if(!o.current)return;const e=new M(o.current,I);return e.mount(),()=>e.destroy()},[H,o,a]);const L=e=>{switch(s.settings.postCardName){case"card4":return r(y,{post:e,className:t?void 0:"hover:!shadow-sm"});case"card7":return r(Y,{post:e});case"card9":return r(X,{post:e});case"card10":return r(Z,{post:e});case"card10V2":return r(W,{post:e});case"card11":return r(er,{post:e,className:t?void 0:"hover:!shadow-sm"});case"card14":return r(K,{post:e});default:return r(y,{className:t?void 0:"hover:!shadow-sm",post:e})}},B=()=>{switch(s.settings.postCardName){case"card4":return r(_,{className:t?void 0:"hover:!shadow-sm"});case"card7":return r(U,{});case"card9":return r(sr,{});case"card10":return r(rr,{});case"card10V2":return r(J,{});case"card11":return r(or,{className:t?void 0:"hover:!shadow-sm"});case"card14":return r(z,{});default:return r(_,{className:t?void 0:"hover:!shadow-sm"})}},F=()=>{const{heading:e,subHeading:d,blockLayoutStyle:l}=s.settings;return l==="layout-1"?r(k,{desc:d,hasNextPrev:!0,children:e}):r(k,{desc:d,isCenter:!0,children:e})},O=()=>{const{hasBackground:e,subHeading:d,heading:l,showFilterTab:Q,categories:R,viewMoreHref:j}=a,b=e;return w("div",{className:`nc-FactoryBlockPostsSlider relative  ${b?"py-16":""}  ${P}`,ref:c,children:[b&&r(q,{}),w("div",{className:"relative ",ref:o,children:[Q?r($,{tabActiveId:v,tabs:R,viewMoreHref:j,heading:l,subHeading:d,onClickTab:D}):F(),r("div",{className:"glide__track","data-glide-el":"track",children:r("ul",{className:"glide__slides",children:i?[1,1,1,1,1,1,1,1].map((S,m)=>r("li",{className:`glide__slide ${t?"pb-12 xl:pb-16":""}`,children:B()},m)):h.map((S,m)=>r("li",{className:`glide__slide ${t?"pb-12 xl:pb-16":""}`,children:L(S.node)},m))})}),r(tr,{className:"my-5",data:h,error:G,isSkeleton:i}),t&&r(ar,{btnClassName:"w-12 h-12",containerClassName:"justify-center"})]})]})};return E.createPortal(O(),T)};export{Jr as default};
