import{u as ee,R as le,a as C,s as re,b as se,c as te,j as t,m as Z,d as e,e as h,L as q,P as G,r as ie,N as de,f as ce,g as m,h as ne,F as ue,Y as he,i as fe,k as me,l as x,_ as J}from"./main.131410f8.js";const ke=({isError:M,handleSeekMouseUp:l,handleSeekMouseDown:n,handleSeekChange:s,handleVolumeChange:T,handleSetPlaybackRate:k,handleSetMuted:v,handleClickBackwards10Sec:o,handleClickForwards15Sec:H})=>{const f=ee(),[y,z]=le.useState(!1),a=C(re),u=C(se),N=C(te),{durationSeconds:w,loaded:V,muted:p,playbackRate:i,played:B,playedSeconds:b,volume:d}=N,E=c=>{let g=Math.floor(c/60),r=`${c-g*60}`;return Number(r)<10&&(r="0"+r),g+":"+r},A=()=>{if(a!=="loading"){if(a==="playing")return f(h("paused"));f(h("playing"))}},O=()=>{f(ie())},L=()=>{if(!u)return null;const{postId:c,featuredImage:g,title:r,link:W,ncPostMetaData:ae}=u;return t("div",{className:"mr-2 flex items-center flex-grow lg:flex-shrink-0 basis-64 w-64 overflow-hidden lg:overflow-visible",children:[t("a",{href:W,className:"relative h-16 flex items-center space-x-3 pl-12 overflow-hidden",children:[e(de,{containerClassName:`absolute left-0 w-12 h-12 flex-shrink-0 transform transition-transform will-change-transform nc-animation-spin rounded-full overflow-hidden ${a==="playing"?"playing":""}`,src:g==null?void 0:g.node.sourceUrl,className:"object-cover w-full h-full rounded-full shadow-md"}),t("div",{className:"flex-grow overflow-hidden ",children:[e("h3",{className:"text-base truncate",children:r}),e("span",{className:"block text-xs text-neutral-500 dark:text-neutral-400 truncate",children:Math.floor((w-b)/60)?`${Math.floor((w-b)/60)} min left`:`${Math.floor((w-b)%60)} sec left`})]})]}),t("div",{className:"hidden xl:flex flex-shrink-0 px-6 space-x-2.5",children:[e(ce,{postId:c,favoriteButtonShortcode:ae.favoriteButtonShortcode||""}),e(G,{href:W||""})]})]})},D=()=>t("div",{className:"absolute w-full inset-x-0 bottom-full",children:[e("input",{className:"slider absolute z-10 opacity-0 inset-y-0 inset-x-1 h-full cursor-pointer",type:"range",min:0,max:.999999,step:"any",value:B,onMouseDown:n,onChange:s,onMouseUp:c=>{f(h("playing")),l(c)},onTouchStart:n,onTouchEnd:c=>{f(h("playing")),l(c)}}),e("div",{className:"absolute left-0 top-1/2 h-0.5 min-w-0 transform -translate-y-1/2 transition-all rounded-full bg-primary-500/30  will-change-contents",style:{width:V*100+"%"}}),e("div",{className:"absolute h-0.5 min-w-0 left-0 top-1/2 transform -translate-y-1/2 rounded-full bg-primary-500 will-change-contents",style:{width:`calc(${B*100+"%"} - 11px)`},children:e("span",{className:"absolute -right-3 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full bg-primary-500"})})]}),S=()=>t("div",{className:"flex-shrink-0 flex items-center justify-center w-16 h-16 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-black/10 cursor-pointer ",onClick:A,children:[a==="loading"&&e(q,{className:"flex-shrink-0 transform scale-50 origin-center ",childClassName:"bg-neutral-500 dark:bg-neutral-100"}),a==="playing"&&t("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:[e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15.25 6.75V17.25"}),e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.75 6.75V17.25"})]}),a!=="playing"&&a!=="loading"&&e("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12L5.75 5.75V18.25L18.25 12Z"})})]}),F=()=>t("div",{className:"flex-shrink-0 flex lg:hidden items-center justify-center w-10 h-10 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-black/10 cursor-pointer ",onClick:A,children:[a==="loading"&&e(q,{childClassName:"bg-neutral-500 dark:bg-neutral-100",className:"flex-shrink-0 transform scale-50 origin-center"}),a==="playing"&&t("svg",{className:"w-6 h-6 md:w-8 md:h-8",fill:"currentColor",viewBox:"0 0 24 24",children:[e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15.25 6.75V17.25"}),e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.75 6.75V17.25"})]}),a!=="playing"&&a!=="loading"&&e("svg",{className:"w-6 h-6 md:w-8 md:h-8",fill:"currentColor",viewBox:"0 0 24 24",children:e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12L5.75 5.75V18.25L18.25 12Z"})})]}),j=()=>e("button",{className:"w-12 h-12 rounded-full flex items-center justify-center hover:bg-neutral-100 dark:hover:bg-black/10",onClick:H,children:t("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[e("path",{d:"M15.9601 10.8301H12.9001L12.1401 13.1201H14.4301C15.2701 13.1201 15.9601 13.8001 15.9601 14.6501C15.9601 15.4901 15.2801 16.1801 14.4301 16.1801H12.1401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9.54004 16.17V10.8301L8.04004 12.5001",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M13.98 4.46997L12 2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19.0899 7.79999C20.1999 9.27999 20.8899 11.11 20.8899 13.11C20.8899 18.02 16.9099 22 11.9999 22C7.08988 22 3.10986 18.02 3.10986 13.11C3.10986 8.19999 7.08988 4.21997 11.9999 4.21997C12.6799 4.21997 13.3399 4.31002 13.9799 4.46002",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),P=()=>e("button",{className:"w-12 h-12 rounded-full flex items-center justify-center hover:bg-neutral-100 dark:hover:bg-black/10",onClick:()=>o(),children:t("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[e("path",{d:"M9.54004 15.92V10.5801L8.04004 12.2501",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10.02 4.46997L12 2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.91 7.79999C3.8 9.27999 3.10999 11.11 3.10999 13.11C3.10999 18.02 7.09 22 12 22C16.91 22 20.89 18.02 20.89 13.11C20.89 8.19999 16.91 4.21997 12 4.21997C11.32 4.21997 10.66 4.31002 10.02 4.46002",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14 10.5801C15.1 10.5801 16 11.4801 16 12.5801V13.9301C16 15.0301 15.1 15.9301 14 15.9301C12.9 15.9301 12 15.0301 12 13.9301V12.5801C12 11.4701 12.9 10.5801 14 10.5801Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),R=()=>e("div",{className:"w-12 flex justify-center items-center",children:e("button",{className:"rounded-lg text-xs leading-6 font-semibold px-2 ring-1 ring-inset ring-neutral-500 transition-all duration-500",onClick:()=>{if(i===1)return k(1.5);if(i===1.5)return k(2);if(i===2)return k(1)},children:`${i===1.5?1.5:i+".0"}x`})}),$=()=>t("div",{className:"flex flex-grow items-center text-neutral-500 dark:text-neutral-300 justify-evenly max-w-xs xl:max-w-md",children:[e("div",{className:"w-12"}),P(),S(),j(),R()]}),I=()=>t("div",{className:"hidden lg:flex items-center justify-end text-neutral-500 dark:text-neutral-300",children:[t("button",{onClick:()=>{if(!d){v(!1),T(.8);return}v(!p)},children:[!!d&&!p&&d>=.5&&t("svg",{className:"w-5 h-5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",children:[e("path",{d:"M2 10V14C2 16 3 17 5 17H6.43C6.8 17 7.17 17.11 7.49 17.3L10.41 19.13C12.93 20.71 15 19.56 15 16.59V7.41003C15 4.43003 12.93 3.29003 10.41 4.87003L7.49 6.70003C7.17 6.89003 6.8 7.00003 6.43 7.00003H5C3 7.00003 2 8.00003 2 10Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M18 8C19.78 10.37 19.78 13.63 18 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19.83 5.5C22.72 9.35 22.72 14.65 19.83 18.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),!!d&&!p&&d<.5&&t("svg",{className:"w-5 h-5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",children:[e("path",{d:"M3.32996 10V14C3.32996 16 4.32996 17 6.32996 17H7.75996C8.12996 17 8.49996 17.11 8.81996 17.3L11.74 19.13C14.26 20.71 16.33 19.56 16.33 16.59V7.41003C16.33 4.43003 14.26 3.29003 11.74 4.87003L8.81996 6.70003C8.49996 6.89003 8.12996 7.00003 7.75996 7.00003H6.32996C4.32996 7.00003 3.32996 8.00003 3.32996 10Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M19.33 8C21.11 10.37 21.11 13.63 19.33 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(!d||p)&&t("svg",{className:"w-5 h-5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",children:[e("path",{d:"M15 8.37003V7.41003C15 4.43003 12.93 3.29003 10.41 4.87003L7.49 6.70003C7.17 6.89003 6.8 7.00003 6.43 7.00003H5C3 7.00003 2 8.00003 2 10V14C2 16 3 17 5 17H7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10.41 19.13C12.93 20.71 15 19.56 15 16.59V12.95",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18.81 9.41992C19.71 11.5699 19.44 14.0799 18 15.9999",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21.15 7.80005C22.62 11.29 22.18 15.37 19.83 18.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M22 2L2 22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),t("div",{className:"ml-3.5 relative w-24 flex-shrink-0",children:[e("input",{className:"slider absolute z-10 opacity-0 inset-0 h-1 w-full cursor-pointer ",type:"range",min:0,max:.999999,step:"any",value:d,onChange:c=>{T(Number(c.currentTarget.value)||0),v(!1)}}),e("div",{className:"absolute left-0 top-1/2 h-0.5 min-w-0 w-full -translate-y-1/2 rounded-full bg-neutral-300 dark:bg-neutral-500"}),e("div",{className:`absolute h-0.5 min-w-0 left-0 top-1/2 -translate-y-1/2 rounded-full ${!d||p?"bg-neutral-400":"bg-primary-500"}`,style:{width:d*100+"%"},children:e("span",{className:`absolute -right-1 top-1/2 -translate-y-1/2 w-2.5 h-2.5 rounded-full ${!d||p?"bg-neutral-400":"bg-primary-500"}`})})]})]}),U=()=>e("button",{className:"flex-shrink-0 flex items-center justify-center rounded-full focus:outline-none focus:shadow-outline hover:bg-neutral-100 dark:hover:bg-black/10 w-10 h-10 lg:w-12 lg:h-12",onClick:O,children:t("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",children:[e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.25 6.75L6.75 17.25"}),e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.75 6.75L17.25 17.25"})]})}),Y=()=>t("div",{className:"ml-5 mr-3 hidden lg:flex items-center justify-center flex-shrink-0 text-xs tracking-widest",children:[e("div",{className:"flex-shrink-0 truncate min-w-[40px] text-right",children:E(Math.floor(b))}),"/",e("div",{className:"flex-shrink-0 truncate min-w-[40px]",children:E(Math.floor(w))})]});return t(Z,{className:"relative bg-white dark:bg-neutral-800 w-full flex flex-col px-2 sm:px-3 will-change-transform - nc-google-shadow",show:!!u&&!!u.ncmazAudioUrl.audioUrl&&!!a,enter:"transition-transform duration-150",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transition-transform duration-150",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:[e("button",{className:"w-[26px] h-6 flex lg:hidden items-center justify-center absolute z-20 right-0 -top-3",onClick:()=>z(!y),children:e("div",{className:"w-6 h-6 bg-white dark:bg-neutral-800 flex items-center justify-center  rounded-full - nc-google-shadow",children:e("svg",{className:`w-4 h-4 ${y?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",children:e("path",{d:"M19.9201 15.0499L13.4001 8.52989C12.6301 7.75989 11.3701 7.75989 10.6001 8.52989L4.08008 15.0499",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})})})}),D(),t("div",{className:"h-20 w-full flex justify-between",children:[L(),e("div",{className:"hidden lg:flex flex-grow px-5 items-center justify-center",children:M?e("span",{className:"flex pl-2 text-xs lg:text-sm text-red-500",children:"This track not found or not supported."}):$()}),t("div",{className:"ml-2 flex-shrink-0 lg:basis-64 lg:flex-grow flex items-center justify-end",children:[I(),Y(),F(),U()]})]}),e(Z,{className:"h-16 flex lg:hidden justify-center border-t border-neutral-300 dark:border-neutral-700 transition-all will-change-transform ",show:y,enter:"duration-150",enterFrom:"-mb-16",enterTo:"mb-0",leave:"duration-150",leaveFrom:"mb-0",leaveTo:"-mb-16",children:t("div",{className:"flex flex-grow items-center justify-evenly text-neutral-500 dark:text-neutral-300 max-w-xs sm:max-w-sm md:max-w-md ",children:[e("div",{className:"w-12 flex justify-center",children:u&&e(G,{panelMenusClass:"w-48 left-0 bottom-0 origin-bottom-left",href:u.link||""})}),P(),S(),j(),R()]})})]})};var oe={};Object.defineProperty(oe,"__esModule",{value:!0});var K=m.exports;function pe(M){var l=K.useRef();return K.useEffect(function(){l.current=M}),l.current}var xe=oe.default=pe,ye=ne.createReactPlayer,Q=ue.default,ge=ye([{key:"file",canPlay:Q.canPlay,lazyPlayer:Q}]),ve=ne.createReactPlayer,X=he.default,we=ve([{key:"youtube",canPlay:X.canPlay,lazyPlayer:X}]);/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream;const _=window.frontendObject.musicPlayerMediaSource||"html5",be=({className:M=""})=>{const l=m.exports.useRef(null),n=C(fe),s=C(re),T=C(te),k=C(me),v=xe(n),o=ee(),{durationSeconds:H,muted:f,playbackRate:y,played:z,playedSeconds:a,volume:u}=T,[N,w]=m.exports.useState(!1),[V,p]=m.exports.useState(!1),[i,B]=m.exports.useState(!1);m.exports.useEffect(()=>{!k&&!!n&&!i&&(s==="playing"||s==="paused")&&o(h("loading"))},[k,n,s,i]),m.exports.useEffect(()=>{!v||n===v||p(!1)},[n,v]);const b=r=>{o(x({played:parseFloat(r.currentTarget.value)}))},d=r=>{w(!1),l.current&&l.current.seekTo(parseFloat(r.currentTarget.value))},E=()=>{w(!0)},A=()=>{var r;(r=l.current)==null||r.seekTo(a+15,"seconds")},O=()=>{var r;(r=l.current)==null||r.seekTo(a-10||0,"seconds")},L=()=>_==="youtube-html5"?n?n.includes("https://www.youtube.com/")?{html5:"none",youtube:n,mediaSelected:"youtube"}:{html5:n,youtube:"https://www.youtube.com/watch?v=9xxxxxxxxxxx",mediaSelected:"html5"}:{html5:"none",youtube:"https://www.youtube.com/watch?v=9xxxxxxxxxxx",mediaSelected:"none"}:_==="html5"?{html5:n||"none",youtube:"",mediaSelected:"html5"}:{html5:"",youtube:n||"https://www.youtube.com/watch?v=9xxxxxxxxxxx",mediaSelected:"youtube"},D=()=>n?s==="loading"||s==="playing":!1,S=()=>{!n||s==="paused"||o(h("paused"))},F=()=>{o(h("ended")),o(x({loaded:.9999,playedSeconds:H,played:.9999}))},j=r=>{var W;!n||(!i&&B(!0),!k&&!i?((W=l.current)==null||W.seekTo(z),o(h("paused"))):s==="loading"&&o(h("playing")),o(x({durationSeconds:r.getDuration()})))},P=()=>{s!=="playing"&&o(h("playing"))},R=()=>{o(h("playing"))},$=r=>{o(x({durationSeconds:r}))},I=r=>{!!r.code&&r.code!==20&&(console.log(789,"MyPlayer-error:",{error:r}),p(!0))},U=r=>{s==="ended"||!n||(o(x({loaded:r.loaded,playedSeconds:r.playedSeconds})),!N&&o(x({played:r.played})))},Y=m.exports.useMemo(()=>{if(_==="html5")return null;const r=L().mediaSelected==="youtube";return e(we,{url:L().youtube,controls:!0,style:{opacity:0,zIndex:-1111,visibility:"hidden"},ref:r?l:void 0,onPause:r?S:void 0,playbackRate:r?y:void 0,playing:r?D():void 0,volume:u,muted:f,playsinline:!0,onEnded:r?F:void 0,onReady:r?j:void 0,onStart:r?R:void 0,onPlay:r?P:void 0,onDuration:r?$:void 0,onError:r?I:void 0,onProgress:r?U:void 0})},[n,s,N,y,u,f,k,i]),c=m.exports.useMemo(()=>{if(_==="youtube")return null;const r=L().mediaSelected==="html5";return e(ge,{url:L().html5,controls:!0,style:{opacity:0,zIndex:-1111,visibility:"hidden"},ref:r?l:void 0,onPause:r?S:void 0,playbackRate:r?y:void 0,playing:r?D():void 0,volume:u,muted:f,playsinline:!0,onEnded:r?F:void 0,onReady:r?j:void 0,onStart:r?R:void 0,onPlay:r?P:void 0,onDuration:r?$:void 0,onError:r?I:void 0,onProgress:r?U:void 0})},[n,s,N,y,u,f,k,i]),g=m.exports.useMemo(()=>e(ke,{isError:V,handleSetMuted:r=>o(x({muted:r})),handleSeekMouseUp:d,handleSeekMouseDown:E,handleSeekChange:b,handleVolumeChange:r=>o(x({volume:r})),handleSetPlaybackRate:r=>o(x({playbackRate:r})),handleClickBackwards10Sec:J.debounce(O,200),handleClickForwards15Sec:J.debounce(A,200)}),[V]);return t("div",{className:`nc-MediaRunningContainer w-full ${M}`,"data-nc-id":"MediaRunningContainer",children:[g,t("div",{className:"fixed top-0 left-0 w-1 h-1 -z-50 opacity-0 overflow-hidden",children:[Y,c]})]})};export{be as default};
