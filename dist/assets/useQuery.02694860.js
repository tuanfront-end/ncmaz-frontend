import{T as te,i as $,e as ne,f as he,g as pe,h as de,S as fe,K as u,O as M,L as Ee,k as A,r as I,l as re,m as k,n as B,o as U,p as ie,A as me,q as ve}from"./main.85963571.js";function xe(t){return typeof t=="object"&&t!==null}function Ne(t,e){if(!Boolean(t))throw new Error(e!=null?e:"Unexpected invariant triggered.")}const _e=/\r\n|[\n\r]/g;function Y(t,e){let n=0,i=1;for(const r of t.body.matchAll(_e)){if(typeof r.index=="number"||Ne(!1),r.index>=e)break;n=r.index+r[0].length,i+=1}return{line:i,column:e+1-n}}function Te(t){return se(t.source,Y(t.source,t.start))}function se(t,e){const n=t.locationOffset.column-1,i="".padStart(n)+t.body,r=e.line-1,s=t.locationOffset.line-1,o=e.line+s,c=e.line===1?n:0,p=e.column+c,E=`${t.name}:${o}:${p}
`,l=i.split(/\r\n|[\n\r]/g),T=l[r];if(T.length>120){const h=Math.floor(p/80),D=p%80,N=[];for(let f=0;f<T.length;f+=80)N.push(T.slice(f,f+80));return E+W([[`${o} |`,N[0]],...N.slice(1,h+1).map(f=>["|",f]),["|","^".padStart(D)],["|",N[h+1]]])}return E+W([[`${o-1} |`,l[r-1]],[`${o} |`,T],["|","^".padStart(p)],[`${o+1} |`,l[r+1]]])}function W(t){const e=t.filter(([i,r])=>r!==void 0),n=Math.max(...e.map(([i])=>i.length));return e.map(([i,r])=>i.padStart(n)+(r?" "+r:"")).join(`
`)}function ge(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class J extends Error{constructor(e,...n){var i,r,s;const{nodes:o,source:c,positions:p,path:E,originalError:l,extensions:T}=ge(n);super(e),this.name="GraphQLError",this.path=E!=null?E:void 0,this.originalError=l!=null?l:void 0,this.nodes=H(Array.isArray(o)?o:o?[o]:void 0);const h=H((i=this.nodes)===null||i===void 0?void 0:i.map(N=>N.loc).filter(N=>N!=null));this.source=c!=null?c:h==null||(r=h[0])===null||r===void 0?void 0:r.source,this.positions=p!=null?p:h==null?void 0:h.map(N=>N.start),this.locations=p&&c?p.map(N=>Y(c,N)):h==null?void 0:h.map(N=>Y(N.source,N.start));const D=xe(l==null?void 0:l.extensions)?l==null?void 0:l.extensions:void 0;this.extensions=(s=T!=null?T:D)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,J):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+Te(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+se(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function H(t){return t===void 0||t.length===0?void 0:t}function _(t,e,n){return new J(`Syntax Error: ${n}`,void 0,t,[e])}let q;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(q||(q={}));let a;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(a||(a={}));class ye{constructor(e){const n=new te(a.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==a.EOF)do if(e.next)e=e.next;else{const n=Ae(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===a.COMMENT);return e}}function ke(t){return t===a.BANG||t===a.DOLLAR||t===a.AMP||t===a.PAREN_L||t===a.PAREN_R||t===a.SPREAD||t===a.COLON||t===a.EQUALS||t===a.AT||t===a.BRACKET_L||t===a.BRACKET_R||t===a.BRACE_L||t===a.PIPE||t===a.BRACE_R}function w(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function j(t,e){return ae(t.charCodeAt(e))&&oe(t.charCodeAt(e+1))}function ae(t){return t>=55296&&t<=56319}function oe(t){return t>=56320&&t<=57343}function C(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return a.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function m(t,e,n,i,r){const s=t.line,o=1+n-t.lineStart;return new te(e,n,i,s,o,r)}function Ae(t,e){const n=t.source.body,i=n.length;let r=e;for(;r<i;){const s=n.charCodeAt(r);switch(s){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++t.line,t.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++t.line,t.lineStart=r;continue;case 35:return be(t,r);case 33:return m(t,a.BANG,r,r+1);case 36:return m(t,a.DOLLAR,r,r+1);case 38:return m(t,a.AMP,r,r+1);case 40:return m(t,a.PAREN_L,r,r+1);case 41:return m(t,a.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return m(t,a.SPREAD,r,r+3);break;case 58:return m(t,a.COLON,r,r+1);case 61:return m(t,a.EQUALS,r,r+1);case 64:return m(t,a.AT,r,r+1);case 91:return m(t,a.BRACKET_L,r,r+1);case 93:return m(t,a.BRACKET_R,r,r+1);case 123:return m(t,a.BRACE_L,r,r+1);case 124:return m(t,a.PIPE,r,r+1);case 125:return m(t,a.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?Re(t,r):Ie(t,r)}if($(s)||s===45)return Oe(t,r,s);if(ne(s))return we(t,r);throw _(t.source,r,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:w(s)||j(n,r)?`Unexpected character: ${C(t,r)}.`:`Invalid character: ${C(t,r)}.`)}return m(t,a.EOF,i,i)}function be(t,e){const n=t.source.body,i=n.length;let r=e+1;for(;r<i;){const s=n.charCodeAt(r);if(s===10||s===13)break;if(w(s))++r;else if(j(n,r))r+=2;else break}return m(t,a.COMMENT,e,r,n.slice(e+1,r))}function Oe(t,e,n){const i=t.source.body;let r=e,s=n,o=!1;if(s===45&&(s=i.charCodeAt(++r)),s===48){if(s=i.charCodeAt(++r),$(s))throw _(t.source,r,`Invalid number, unexpected digit after 0: ${C(t,r)}.`)}else r=K(t,r,s),s=i.charCodeAt(r);if(s===46&&(o=!0,s=i.charCodeAt(++r),r=K(t,r,s),s=i.charCodeAt(r)),(s===69||s===101)&&(o=!0,s=i.charCodeAt(++r),(s===43||s===45)&&(s=i.charCodeAt(++r)),r=K(t,r,s),s=i.charCodeAt(r)),s===46||ne(s))throw _(t.source,r,`Invalid number, expected digit but got: ${C(t,r)}.`);return m(t,o?a.FLOAT:a.INT,e,r,i.slice(e,r))}function K(t,e,n){if(!$(n))throw _(t.source,e,`Invalid number, expected digit but got: ${C(t,e)}.`);const i=t.source.body;let r=e+1;for(;$(i.charCodeAt(r));)++r;return r}function Ie(t,e){const n=t.source.body,i=n.length;let r=e+1,s=r,o="";for(;r<i;){const c=n.charCodeAt(r);if(c===34)return o+=n.slice(s,r),m(t,a.STRING,e,r+1,o);if(c===92){o+=n.slice(s,r);const p=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?Ce(t,r):De(t,r):Se(t,r);o+=p.value,r+=p.size,s=r;continue}if(c===10||c===13)break;if(w(c))++r;else if(j(n,r))r+=2;else throw _(t.source,r,`Invalid character within String: ${C(t,r)}.`)}throw _(t.source,r,"Unterminated string.")}function Ce(t,e){const n=t.source.body;let i=0,r=3;for(;r<12;){const s=n.charCodeAt(e+r++);if(s===125){if(r<5||!w(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|F(s),i<0)break}throw _(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+r)}".`)}function De(t,e){const n=t.source.body,i=X(n,e+2);if(w(i))return{value:String.fromCodePoint(i),size:6};if(ae(i)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const r=X(n,e+8);if(oe(r))return{value:String.fromCodePoint(i,r),size:12}}throw _(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function X(t,e){return F(t.charCodeAt(e))<<12|F(t.charCodeAt(e+1))<<8|F(t.charCodeAt(e+2))<<4|F(t.charCodeAt(e+3))}function F(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Se(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw _(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function Re(t,e){const n=t.source.body,i=n.length;let r=t.lineStart,s=e+3,o=s,c="";const p=[];for(;s<i;){const E=n.charCodeAt(s);if(E===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){c+=n.slice(o,s),p.push(c);const l=m(t,a.BLOCK_STRING,e,s+3,he(p).join(`
`));return t.line+=p.length-1,t.lineStart=r,l}if(E===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){c+=n.slice(o,s),o=s+1,s+=4;continue}if(E===10||E===13){c+=n.slice(o,s),p.push(c),E===13&&n.charCodeAt(s+1)===10?s+=2:++s,c="",o=s,r=s;continue}if(w(E))++s;else if(j(n,s))s+=2;else throw _(t.source,s,`Invalid character within String: ${C(t,s)}.`)}throw _(t.source,s,"Unterminated string.")}function we(t,e){const n=t.source.body,i=n.length;let r=e+1;for(;r<i;){const s=n.charCodeAt(r);if(pe(s))++r;else break}return m(t,a.NAME,e,r,n.slice(e,r))}function Le(t,e){return new Fe(t,e).parseDocument()}class Fe{constructor(e,n){const i=de(e)?e:new fe(e);this._lexer=new ye(i),this._options=n}parseName(){const e=this.expectToken(a.NAME);return this.node(e,{kind:u.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:u.DOCUMENT,definitions:this.many(a.SOF,this.parseDefinition,a.EOF)})}parseDefinition(){if(this.peek(a.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===a.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw _(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(a.BRACE_L))return this.node(e,{kind:u.OPERATION_DEFINITION,operation:M.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let i;return this.peek(a.NAME)&&(i=this.parseName()),this.node(e,{kind:u.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(a.NAME);switch(e.value){case"query":return M.QUERY;case"mutation":return M.MUTATION;case"subscription":return M.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(a.PAREN_L,this.parseVariableDefinition,a.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:u.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(a.DOLLAR),this.node(e,{kind:u.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:u.SELECTION_SET,selections:this.many(a.BRACE_L,this.parseSelection,a.BRACE_R)})}parseSelection(){return this.peek(a.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let i,r;return this.expectOptionalToken(a.COLON)?(i=n,r=this.parseName()):r=n,this.node(e,{kind:u.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.PAREN_L,n,a.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:u.ARGUMENT,name:i,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(a.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(a.NAME)?this.node(e,{kind:u.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:u.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const n=this._lexer.token;return this.expectKeyword("fragment"),((e=this._options)===null||e===void 0?void 0:e.allowLegacyFragmentVariables)===!0?this.node(n,{kind:u.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:u.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case a.BRACKET_L:return this.parseList(e);case a.BRACE_L:return this.parseObject(e);case a.INT:return this._lexer.advance(),this.node(n,{kind:u.INT,value:n.value});case a.FLOAT:return this._lexer.advance(),this.node(n,{kind:u.FLOAT,value:n.value});case a.STRING:case a.BLOCK_STRING:return this.parseStringLiteral();case a.NAME:switch(this._lexer.advance(),n.value){case"true":return this.node(n,{kind:u.BOOLEAN,value:!0});case"false":return this.node(n,{kind:u.BOOLEAN,value:!1});case"null":return this.node(n,{kind:u.NULL});default:return this.node(n,{kind:u.ENUM,value:n.value})}case a.DOLLAR:if(e)if(this.expectToken(a.DOLLAR),this._lexer.token.kind===a.NAME){const i=this._lexer.token.value;throw _(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:u.STRING,value:e.value,block:e.kind===a.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:u.LIST,values:this.any(a.BRACKET_L,n,a.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:u.OBJECT,fields:this.any(a.BRACE_L,n,a.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:u.OBJECT_FIELD,name:i,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(a.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(a.AT),this.node(n,{kind:u.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(a.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(a.BRACKET_R),n=this.node(e,{kind:u.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(a.BANG)?this.node(e,{kind:u.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:u.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(a.STRING)||this.peek(a.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);return this.node(e,{kind:u.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(a.COLON);const i=this.parseNamedType();return this.node(e,{kind:u.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:u.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:u.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(a.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseFieldDefinition,a.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(a.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:u.FIELD_DEFINITION,description:n,name:i,arguments:r,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(a.PAREN_L,this.parseInputValueDef,a.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(a.COLON);const r=this.parseTypeReference();let s;this.expectOptionalToken(a.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:u.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:u.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:u.UNION_TYPE_DEFINITION,description:n,name:i,directives:r,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(a.EQUALS)?this.delimitedMany(a.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:u.ENUM_TYPE_DEFINITION,description:n,name:i,directives:r,values:s})}parseEnumValuesDefinition(){return this.optionalMany(a.BRACE_L,this.parseEnumValueDefinition,a.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:u.ENUM_VALUE_DEFINITION,description:n,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw _(this._lexer.source,this._lexer.token.start,`${V(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:u.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:r,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseInputValueDef,a.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===a.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:u.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(e,{kind:u.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:u.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:u.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:u.UNION_TYPE_EXTENSION,name:n,directives:i,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:u.ENUM_TYPE_EXTENSION,name:n,directives:i,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:u.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.AT);const i=this.parseName(),r=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:u.DIRECTIVE_DEFINITION,description:n,name:i,arguments:r,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(a.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(q,n.value))return n;throw this.unexpected(e)}node(e,n){var i;return((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0&&(n.loc=new Ee(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this._lexer.advance(),n;throw _(this._lexer.source,n.start,`Expected ${ce(e)}, found ${V(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this._lexer.advance(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===a.NAME&&n.value===e)this._lexer.advance();else throw _(this._lexer.source,n.start,`Expected "${e}", found ${V(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===a.NAME&&n.value===e?(this._lexer.advance(),!0):!1}unexpected(e){const n=e!=null?e:this._lexer.token;return _(this._lexer.source,n.start,`Unexpected ${V(n)}.`)}any(e,n,i){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(i);)r.push(n.call(this));return r}optionalMany(e,n,i){if(this.expectOptionalToken(e)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(e,n,i){this.expectToken(e);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(e,n){this.expectOptionalToken(e);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(e));return i}}function V(t){const e=t.value;return ce(t.kind)+(e!=null?` "${e}"`:"")}function ce(t){return ke(t)?`"${t}"`:t}var Q=new Map,z=new Map,ue=!0,G=!1;function le(t){return t.replace(/[\s,]+/g," ").trim()}function Pe(t){return le(t.source.body.substring(t.start,t.end))}function Me(t){var e=new Set,n=[];return t.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,s=Pe(i.loc),o=z.get(r);o&&!o.has(s)?ue&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||z.set(r,o=new Set),o.add(s),e.has(s)||(e.add(s),n.push(i))}else n.push(i)}),A(A({},t),{definitions:n})}function Be(t){var e=new Set(t.definitions);e.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var s=i[r];s&&typeof s=="object"&&e.add(s)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function Ue(t){var e=le(t);if(!Q.has(e)){var n=Le(t,{experimentalFragmentVariables:G,allowLegacyFragmentVariables:G});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Q.set(e,Be(Me(n)))}return Q.get(e)}function R(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var i=t[0];return e.forEach(function(r,s){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=t[s+1]}),Ue(i)}function Ve(){Q.clear(),z.clear()}function Qe(){ue=!1}function $e(){G=!0}function Ge(){G=!1}var L={gql:R,resetCaches:Ve,disableFragmentWarnings:Qe,enableExperimentalFragmentVariables:$e,disableExperimentalFragmentVariables:Ge};(function(t){t.gql=L.gql,t.resetCaches=L.resetCaches,t.disableFragmentWarnings=L.disableFragmentWarnings,t.enableExperimentalFragmentVariables=L.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=L.disableExperimentalFragmentVariables})(R||(R={}));R.default=R;var ze=R;function je(t){var e=I.exports.useContext(re()),n=t||e.client;return __DEV__?k(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):k(!!n,29),n}var b;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(b||(b={}));var Z=new Map;function ee(t){var e;switch(t){case b.Query:e="Query";break;case b.Mutation:e="Mutation";break;case b.Subscription:e="Subscription";break}return e}function Ke(t){var e=Z.get(t);if(e)return e;var n,i,r;__DEV__?k(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):k(!!t&&!!t.kind,30);var s=t.definitions.filter(function(h){return h.kind==="FragmentDefinition"}),o=t.definitions.filter(function(h){return h.kind==="OperationDefinition"&&h.operation==="query"}),c=t.definitions.filter(function(h){return h.kind==="OperationDefinition"&&h.operation==="mutation"}),p=t.definitions.filter(function(h){return h.kind==="OperationDefinition"&&h.operation==="subscription"});__DEV__?k(!s.length||o.length||c.length||p.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):k(!s.length||o.length||c.length||p.length,31),__DEV__?k(o.length+c.length+p.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(o.length," queries, ").concat(p.length," ")+"subscriptions and ".concat(c.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):k(o.length+c.length+p.length<=1,32),i=o.length?b.Query:b.Mutation,!o.length&&!c.length&&(i=b.Subscription);var E=o.length?o:c.length?c:p;__DEV__?k(E.length===1,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(E.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):k(E.length===1,33);var l=E[0];n=l.variableDefinitions||[],l.name&&l.name.kind==="Name"?r=l.name.value:r="data";var T={name:r,type:i,variables:n};return Z.set(t,T),T}function Ye(t,e){var n=Ke(t),i=ee(e),r=ee(n.type);__DEV__?k(n.type===e,"Running a ".concat(i," requires a graphql ")+"".concat(i,", but a ").concat(r," was used instead.")):k(n.type===e,34)}function Je(t,e){var n,i=I.exports.useContext(re()),r=je(e==null?void 0:e.client),s=r.defaultOptions.watchQuery;Ye(t,b.Query);var o=I.exports.useState(function(){var f=S(t,e,s),v=null;return i.renderPromises&&(v=i.renderPromises.getSSRObservable(f)),v||(v=r.watchQuery(f),i.renderPromises&&i.renderPromises.registerSSRObservable(v,f)),i.renderPromises&&(e==null?void 0:e.ssr)!==!1&&!(e!=null&&e.skip)&&v.getCurrentResult().loading&&i.renderPromises.addQueryPromise({getOptions:function(){return S(t,e,s)},fetchData:function(){return new Promise(function(x){var d=v.subscribe({next:function(g){g.loading||(x(),d.unsubscribe())},error:function(){x(),d.unsubscribe()},complete:function(){x()}})})}},function(){return null}),v}),c=o[0],p=o[1],E=I.exports.useState(function(){var f,v,x=c.getCurrentResult();return!x.loading&&e&&(x.error?(f=e.onError)===null||f===void 0||f.call(e,x.error):x.data&&((v=e.onCompleted)===null||v===void 0||v.call(e,x.data))),x}),l=E[0],T=E[1],h=I.exports.useRef({client:r,query:t,options:e,result:l,previousData:void 0,watchQueryOptions:S(t,e,s)});I.exports.useEffect(function(){var f,v,x=S(t,e,s),d;if(h.current.client!==r||!B(h.current.query,t)){var g=r.watchQuery(x);p(g),d=g.getCurrentResult()}else B(h.current.watchQueryOptions,x)||(c.setOptions(x).catch(function(){}),d=c.getCurrentResult(),h.current.watchQueryOptions=x);if(d){var y=h.current.result;y.data&&(h.current.previousData=y.data),T(h.current.result=d),!d.loading&&e&&(d.error?(f=e.onError)===null||f===void 0||f.call(e,d.error):d.data&&((v=e.onCompleted)===null||v===void 0||v.call(e,d.data)))}Object.assign(h.current,{client:r,query:t})},[c,r,t,e]),I.exports.useEffect(function(){if(i.renderPromises)return;var f=c.subscribe(v,x);function v(){var d,g,y=h.current.result,O=c.getCurrentResult();y&&y.loading===O.loading&&y.networkStatus===O.networkStatus&&B(y.data,O.data)||(y.data&&(h.current.previousData=y.data),T(h.current.result=O),O.loading||(g=(d=h.current.options)===null||d===void 0?void 0:d.onCompleted)===null||g===void 0||g.call(d,O.data))}function x(d){var g,y,O=c.last;f.unsubscribe();try{c.resetLastResults(),f=c.subscribe(v,x)}finally{c.last=O}if(!d.hasOwnProperty("graphQLErrors"))throw d;var P=h.current.result;(P&&P.loading||!B(d,P.error))&&(T(h.current.result={data:P.data,error:d,loading:!1,networkStatus:U.error}),(y=(g=h.current.options)===null||g===void 0?void 0:g.onError)===null||y===void 0||y.call(g,d))}return function(){return f.unsubscribe()}},[c,i.renderPromises,r.disableNetworkFetches]);var D;n=l,D=n.partial,l=ie(n,["partial"]),D&&(e==null?void 0:e.partialRefetch)&&!l.loading&&(!l.data||Object.keys(l.data).length===0)&&c.options.fetchPolicy!=="cache-only"&&(l=A(A({},l),{loading:!0,networkStatus:U.refetch}),c.refetch()),i.renderPromises&&(e==null?void 0:e.ssr)!==!1&&!(e!=null&&e.skip)&&l.loading&&c.setOptions(S(t,e,s)).catch(function(){}),Object.assign(h.current,{options:e}),(i.renderPromises||r.disableNetworkFetches)&&(e==null?void 0:e.ssr)===!1?l=h.current.result={loading:!0,data:void 0,error:void 0,networkStatus:U.loading}:((e==null?void 0:e.skip)||(e==null?void 0:e.fetchPolicy)==="standby")&&(l={loading:!1,data:void 0,error:void 0,networkStatus:U.ready}),l.errors&&l.errors.length&&(l=A(A({},l),{error:l.error||new me({graphQLErrors:l.errors})}));var N=I.exports.useMemo(function(){return{refetch:c.refetch.bind(c),fetchMore:c.fetchMore.bind(c),updateQuery:c.updateQuery.bind(c),startPolling:c.startPolling.bind(c),stopPolling:c.stopPolling.bind(c),subscribeToMore:c.subscribeToMore.bind(c)}},[c]);return A(A(A({},N),{variables:S(t,e,s).variables,client:r,called:!0,previousData:h.current.previousData}),l)}function S(t,e,n){var i;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.displayName;var s=ie(e,["skip","ssr","onCompleted","onError","displayName"]),o=A({query:t},s);return n&&(o=ve(n,o)),r?o.fetchPolicy="standby":((i=o.context)===null||i===void 0?void 0:i.renderPromises)&&(o.fetchPolicy==="network-only"||o.fetchPolicy==="cache-and-network")?o.fetchPolicy="cache-first":o.fetchPolicy||(o.fetchPolicy="cache-first"),o.variables||(o.variables={}),o}export{b as D,R as a,je as b,ze as g,Je as u,Ye as v};
