import{h as b,i as g,j as e,a as p,N as s,k as x,l as w,m as D,F as N,n as y}from"./main.e8298863.js";import{B as k}from"./ButtonPrimaryDanger.675522df.js";import{N as P}from"./NcModal.ea7062e8.js";import"./ButtonClose.b9046a3c.js";const j=({show:m,onCloseModal:r,postDataBaseId:i,isReloadAfterDelete:c=!1,linkReloadAfterDelete:f=window.frontendObject.homeURL})=>{const[t,a]=b.useState(!1),h=g(),d=async()=>{a(!0),await jQuery.ajax({url:window.frontendObject.restUrl+"wp/v2/posts/"+i,method:"DELETE",processData:!1,contentType:!1,beforeSend:function(n){n.setRequestHeader("X-WP-Nonce",window.frontendObject.restVarsNonce)}}).done(function(n){w.success(s["Post deleted successfully."]),h(D(i)),c&&setTimeout(()=>{window.location.replace(f)},800)}).fail(function(n){var u;const l=((u=n.responseJSON)==null?void 0:u.message)||s.somethingWentWrong;w.error(l)}).always(function(){r(),a(!1)})};return e(P,{renderTrigger:()=>null,isOpenProp:m,renderContent:()=>p("div",{children:[e("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-200",children:s["Delete post"]}),e("span",{className:"text-sm",children:s["Are you sure you want to delete this post? You cannot undo this action."]}),p("div",{className:"mt-4 space-x-3",children:[e(k,{loading:t,onClick:d,type:"submit",disabled:t,children:s["Delete post"]}),e(x,{type:"button",loading:t,onClick:r,disabled:t,children:s.Cancel})]})]}),onCloseModal:r,contentExtraClass:"max-w-screen-sm",modalTitle:""})},T=({className:m="text-neutral-700 bg-neutral-50 hover:bg-blue-50 hover:text-blue-700 dark:hover:text-blue-700 dark:text-neutral-100 dark:bg-neutral-800 dark:hover:bg-blue-100 transition-colors duration-300 h-7 w-7 sm:h-8 sm:w-8",panelMenusClass:r="w-52 right-0 bottom-0 origin-bottom-right",href:i,postDataBaseId:c,isReloadAfterDelete:f=!1,hasComment:t=!0,data:a})=>{const[h,d]=b.useState(!1);let o=[{icon:"las la-edit",id:"edit",name:"Edit post",href:frontendObject.pagePostSubmissionEditorUrl+"?pid="+c+"&action=edit"},{icon:"las la-comment-dots",id:"gotocoommment",name:"Comment this post",href:`${i}#comment`},{icon:"las la-trash-alt",id:"delete_post",name:"Delete post"}];o=t?o:o.filter((l,u)=>u!=1),a&&(o=a);const n=l=>{l.id==="delete_post"&&d(!0),console.log("clicked",l)};return p(N,{children:[e(y,{data:o,className:`nc-PostMoreActionDropdown relative rounded-full flex items-center justify-center focus:outline-none ${m}`,panelMenusClass:r,onClickItem:n}),e(j,{show:h,onCloseModal:()=>d(!1),postDataBaseId:c,isReloadAfterDelete:f})]})};export{T as default};
