import{r as _,a as e,j as k,p as I,y as L,e as T,R as V,B as Q,D as R}from"./main.69024ede.js";import{G as $}from"./glide.esm.b495f968.js";import{C as A,a as b}from"./CardAuthorBox2Skeleton.02e36345.js";import{C as j,a as E}from"./CardAuthorBoxSkeleton.6a24ef0a.js";import{u as O}from"./useGutenbergSectionWithGQLGetUsers.5a9f4de4.js";const U=({heading:g,subHeading:S,className:v="",authorNodes:u,authorCardName:o,blockLayoutStyle:h,isLoading:n,authorNodesLoading:w=[1,1,1,1,1,1,1,1,1],itemPerView:l=5,sliderAnimationDuration:c,sliderAutoplayTime:i,sliderHoverpause:m,sliderRewind:p,sliderStartAt:s})=>{var f;const t=_.exports.useRef(null),N={direction:((f=document.querySelector("html"))==null?void 0:f.getAttribute("dir"))==="rtl"?"rtl":"ltr",gap:32,bound:!0,perView:l,startAt:n?0:s,hoverpause:m,animationDuration:c||void 0,rewind:p||!0,autoplay:n?!1:i||!1,breakpoints:{1440:{gap:24},1280:{perView:l-1,gap:24},1023:{perView:3,gap:24},767:{gap:20,perView:2},639:{perView:2,gap:20},500:{perView:1.2,gap:20}}};_.exports.useEffect(()=>{if(!t.current)return;const a=new $(t.current,N);return a.mount(),()=>a.destroy()},[u,t,l,c,i,m,p,s]);const r=h==="layout-2",C=a=>{switch(o){case"card1":return e(j,{className:r?"hover:!shadow-none":"",author:a});case"card2":return e(A,{className:r?"hover:!shadow-none":"",author:a});default:return e(A,{className:r?"hover:!shadow-none":"",author:a})}},y=()=>{switch(o){case"card1":return e(E,{className:r?"hover:!shadow-none":""});case"card2":return e(b,{className:r?"hover:!shadow-none":""});default:return e(b,{className:r?"hover:!shadow-none":""})}};return e("div",{className:`nc-SectionSliderNewAuthors ${v}`,children:k("div",{ref:t,children:[e(I,{isCenter:!r,desc:S,hasNextPrev:r,children:g}),e("div",{className:"glide__track","data-glide-el":"track",children:e("ul",{className:"glide__slides",children:n?w.map((a,d)=>e("li",{className:`glide__slide ${r?"":"pb-12 md:pb-16"}`,children:y()},d)):u.map((a,d)=>e("li",{className:`glide__slide ${r?"":"pb-12 md:pb-16"}`,children:C(a.node)},d))})}),!r&&e(L,{btnClassName:"w-12 h-12",containerClassName:"justify-center"})]})})},M=({className:g="",domNode:S,apiSettings:v,sectionIndex:u})=>{const{graphQLvariables:o,graphQLData:h,settings:n}=v,w=!o&&!!h,{funcGqlQueryGetUsers:l,IS_SKELETON:c,LISTS_DATA:i,error:m,DONOT_ANY_THING:p}=O({graphQLvariables:o,graphQLData:h});let s=null;w?s=_.exports.useRef(null):s=T(l,u).ref;const t=()=>{const{hasBackground:N,subHeading:r,heading:C,userCardName:y,blockLayoutStyle:f,itemPerView:a,sliderAnimationDuration:d,sliderAutoplayTime:x,sliderHoverpause:B,sliderRewind:G,sliderStartAt:D}=n;return k("div",{className:`nc-FactoryBlockUsersSlider relative ${N?"py-16":""}  ${g}`,ref:s,children:[N&&e(Q,{}),k("div",{className:"relative",children:[!p&&e(U,{authorCardName:y,blockLayoutStyle:f,authorNodes:i,heading:C,subHeading:r,isLoading:c,itemPerView:a,sliderAnimationDuration:d,sliderAutoplayTime:x,sliderHoverpause:B,sliderRewind:G,sliderStartAt:D}),e(R,{className:"my-5",data:i,error:m,isSkeleton:c})]})]})};return V.createPortal(t(),S)};export{M as default};
