import{a as t,j as e,P as te,r as se,u as ne,b as le,R as ce,B as de,H as oe,D as ie,c as D,N as j}from"./main.e8298863.js";import{C as me,a as ue,b as he,c as fe,d as pe,e as Ce,f as xe,g as be}from"./Card14Skeleton.759ec7f4.js";import{C as Ne}from"./Card9.594c1b5c.js";import{C as ge,a as ke}from"./Card10Skeleton.e4b6386a.js";import{C as we}from"./Card11.4f4343bd.js";import{C as Se,a as ve}from"./Card15PodcastSkeleton.053a6164.js";import{N as F}from"./NcImage.ef025992.js";import{P as ye}from"./PostCardMeta.82e9ad0d.js";import{P as Pe}from"./PostCardLikeAndComment.019e08b7.js";import{C as Te}from"./CategoryBadgeList.6868c8f7.js";import{P as _e}from"./PostTypeFeaturedIcon.6c37a8b4.js";import{B as M}from"./ButtonPrimary.dfaa9411.js";import{S as b}from"./index.7d8e0d1b.js";import{C as Ie}from"./Card9Skeleton.0ba00277.js";import{C as Le}from"./Card11Skeleton.6cb56570.js";import"./CardAuthor2.3f851627.js";import"./formatDate.81b7fc4e.js";import"./PostCardLikeAction.dd967694.js";import"./PostFeaturedMedia.94413ca2.js";import"./index.5fba03b7.js";import"./ButtonPlayMusicRunningContainer.399afe6f.js";import"./LoadingVideo.ed7ab389.js";import"./PostMoreActionDropdown.64817bf4.js";import"./ButtonPrimaryDanger.675522df.js";import"./NcModal.ea7062e8.js";import"./ButtonClose.b9046a3c.js";import"./Badge.90cfb0a0.js";const Ae=({className:o="",post:n})=>{var C,h;const{title:l,link:i,featuredImage:m,excerpt:u,categories:N,postFormats:s,ncPostMetaData:p}=n,g=(C=s==null?void 0:s.edges[0])==null?void 0:C.node.slug;return t("div",{className:`nc-Card3 relative flex sm:items-center rounded-3xl group sm:p-5 2xl:p-6 [ sm:nc-box-has-hover ] [ sm:nc-dark-box-bg-has-hover ]  ${o}`,"data-nc-id":"Card3",children:[e("a",{href:i,className:"absolute inset-0"}),t("div",{className:"w-full flex flex-col flex-grow",children:[t("div",{className:"space-y-2 sm:space-y-3.5 mb-3 sm:mb-4",children:[e(Te,{categories:N}),t("div",{children:[e("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-sm sm:text-base lg:text-xl",children:e("a",{href:i,className:"line-clamp-2",title:l,dangerouslySetInnerHTML:{__html:l||""}})}),u&&e("div",{className:"hidden sm:block sm:mt-2",children:e("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",dangerouslySetInnerHTML:{__html:u}})})]}),e(ye,{className:"w-full",meta:{...n}})]}),t("div",{className:"flex items-center flex-wrap justify-between mt-auto",children:[e(Pe,{postData:n}),t("div",{className:"flex items-center space-x-2 text-xs text-neutral-700 dark:text-neutral-300 ",children:[e("span",{dangerouslySetInnerHTML:{__html:p.readingTimeShortcode||""}}),e(te,{href:n.link,image:(h=n.featuredImage)==null?void 0:h.node.sourceUrl})]})]})]}),e("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 ",children:t("a",{href:i,className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden z-0",children:[e(F,{containerClassName:"absolute inset-0",src:(m==null?void 0:m.node.sourceUrl)||".",alt:l}),e("span",{children:e(_e,{className:"absolute left-2 bottom-2",postType:g,wrapSize:"w-8 h-8",iconSize:"w-4 h-4"})})]})})]})},Be=({className:o="h-full"})=>t("div",{className:`nc-Card3Skeleton relative flex items-center rounded-[40px] group ${o}`,"data-nc-id":"Card3Skeleton",children:[t("div",{className:"flex flex-col flex-grow overflow-hidden",children:[t("div",{className:"space-y-3.5 mb-4",children:[e(b,{width:"30%"}),t("div",{children:[e("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-xl",children:e(b,{width:"80%"})}),e("div",{className:"hidden sm:block sm:mt-2",children:e("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",children:e(b,{width:"90%"})})})]}),e(b,{width:"90%"})]}),e("div",{className:"flex items-center flex-wrap justify-between mt-auto opacity-0",children:"zz"})]}),e("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 overflow-hidden",children:e("div",{className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden",children:e(F,{containerClassName:"absolute inset-0",src:"."})})})]}),la=({className:o="",domNode:n,apiSettings:l,sectionIndex:i})=>{var B;const{graphQLvariables:m,settings:u,graphQLData:N,hasSSrInitData:s}=l,[p,g]=se.exports.useState(!1),{funcGqlQueryGetPosts:C,loading:h,IS_SKELETON:y,LISTS_POSTS:Q,data:d,error:z,fetchMore:P,setTabActiveId:T,tabActiveId:f,funcGqlGetPostsForAllHasInitData:E}=ne({graphQLData:N,graphQLvariables:m,hasSSrInitData:s});let _=null;_=le(C,i,f).ref;const I=s==null?void 0:s.hasSSrInitData,V=(B=s==null?void 0:s.initPageInfo)==null?void 0:B.hasNextPage;let k=Q;const{hasBackground:$,heading:w,subHeading:S,viewMoreHref:O,gridClass:q,gridClassCustom:L,showFilterTab:U,blockLayoutStyle:K,enableLoadMoreButton:W,loadMoreButtonHref:v,filterDataBy:A,categories:x}=u,X=a=>{if(a===-1){T(a);return}a.id!==f&&T(a.id)},Y=(a,{fetchMoreResult:r})=>{var c,H,G;return(c=r==null?void 0:r.posts)!=null&&c.edges.length?{...r,posts:{...r.posts,edges:[...(H=a==null?void 0:a.posts)==null?void 0:H.edges,...(G=r==null?void 0:r.posts)==null?void 0:G.edges]}}:a},Z=a=>{if(!P||A==="by_specific"||!!v)return;a.preventDefault();const r=k.map(c=>c.node.postId);if(I&&f===-1&&!p){E({variables:{notIn:r}}),g(!0);return}P({variables:{notIn:r},updateQuery:Y})},J=a=>{switch(l.settings.postCardName){case"card3":return e("div",{className:"w-full",children:e(Ae,{post:a,className:"mb-3 sm:mb-0"})},a.id);case"card4":return e(fe,{post:a},a.id);case"card7":return e(he,{post:a,ratio:"aspect-w-5 aspect-h-5"},a.id);case"card9":return e(Ne,{post:a},a.id);case"card10":return e(ge,{post:a},a.id);case"card10V2":return e(ue,{post:a},a.id);case"card11":return e(we,{post:a},a.id);case"card14":return e(me,{post:a},a.id);case"card15Podcast":return e(Se,{post:a},a.id);default:return null}},R=(a,r)=>{switch(l.settings.postCardName){case"card3":return e(Be,{className:"p-3 sm:p-5 2xl:p-6 [ nc-box-has-hover ] [ nc-dark-box-bg-has-hover ]"},r);case"card4":return e(be,{},r);case"card7":return e(xe,{ratio:"aspect-w-5 aspect-h-5"},r);case"card9":return e(Ie,{},r);case"card10":return e(ke,{},r);case"card10V2":return e(Ce,{},r);case"card11":return e(Le,{},r);case"card14":return e(pe,{},r);case"card15Podcast":return e(ve,{},r);default:return null}},ee=()=>K==="layout-1"?e(D,{desc:S,children:w}):e(D,{desc:S,isCenter:!0,children:w}),ae=()=>{var r,c;let a=!1;return f===-1?p?a=h||!!((r=d==null?void 0:d.posts.pageInfo)!=null&&r.hasNextPage):a=!!I&&!!V:a=!!((c=d==null?void 0:d.posts.pageInfo)!=null&&c.hasNextPage),W?v?e("div",{className:"flex mt-12 md:mt-14 justify-center items-center",children:e(M,{href:v,children:j.showMeMore})}):A==="by_specific"||!a?null:e("div",{className:"flex mt-12 md:mt-14 justify-center items-center",children:e(M,{onClick:Z,loading:h,children:j.showMeMore})}):null},re=()=>{const a=$;return t("div",{className:`nc-FactoryBlockPostsGrid relative ${a?"py-16":""}  ${o}`,ref:_,children:[a&&e(de,{}),t("div",{className:"relative",children:[U&&!!(x!=null&&x.length)?e(oe,{tabActiveId:f,tabs:x,viewMoreHref:O,heading:w,subHeading:S,onClickTab:X}):ee(),e("div",{className:`grid grid-cols-1 gap-6 2xl:gap-8 ${L||q}`,children:y?Array.from(Array(Number(u.expectedNumberResults||8)||8).keys()).map(R):k.map(r=>J(r.node))}),e(ie,{className:"my-5",data:k,error:z,isSkeleton:y}),ae()]})]})};return ce.createPortal(re(),n)};export{la as default};
