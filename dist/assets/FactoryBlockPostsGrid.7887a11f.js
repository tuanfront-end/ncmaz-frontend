import{a as t,j as e,P as W,u as Z,r as J,b as X,R as Y,B as R,H as ee,D as ae,N as B,c as _}from"./main.6963f843.js";import{C as re,a as te,b as se,c as ne,d as de,e as ce,f as le,g as ie}from"./Card14Skeleton.e88dbbcf.js";import{C as oe}from"./Card9.49876428.js";import{C as me,a as ue}from"./Card10Skeleton.dda99ab1.js";import{C as he}from"./Card11.3aedbf0d.js";import{C as fe,a as pe}from"./Card15PodcastSkeleton.84c0369a.js";import{N as D}from"./NcImage.a50a6fbd.js";import{P as Ce}from"./PostCardMeta.f5c65281.js";import{P as xe}from"./PostCardLikeAndComment.0ebbecec.js";import{C as be}from"./CategoryBadgeList.6c0d0692.js";import{P as ge}from"./PostTypeFeaturedIcon.6b69a84c.js";import{B as A}from"./ButtonPrimary.7e733f4e.js";import{S as p}from"./index.3f4c9966.js";import{C as Ne}from"./Card9Skeleton.530675b2.js";import{C as ke}from"./Card11Skeleton.1a848029.js";import"./CardAuthor2.e2c79311.js";import"./formatDate.5c5d9c4d.js";import"./PostCardLikeAction.ac74f54f.js";import"./PostFeaturedMedia.3ed3bf64.js";import"./index.6b2a6d08.js";import"./ButtonPlayMusicRunningContainer.688e982b.js";import"./LoadingVideo.ab0bac76.js";import"./PostMoreActionDropdown.981856fc.js";import"./ButtonPrimaryDanger.69065814.js";import"./NcModal.10918aea.js";import"./ButtonClose.2e45d2ef.js";import"./Badge.cc676787.js";const we=({className:o="",post:s})=>{var h,l;const{title:n,link:m,featuredImage:d,excerpt:c,categories:f,postFormats:u,ncPostMetaData:C}=s,x=(h=u==null?void 0:u.edges[0])==null?void 0:h.node.slug;return t("div",{className:`nc-Card3 relative flex sm:items-center rounded-3xl group sm:p-5 2xl:p-6 [ sm:nc-box-has-hover ] [ sm:nc-dark-box-bg-has-hover ]  ${o}`,"data-nc-id":"Card3",children:[e("a",{href:m,className:"absolute inset-0"}),t("div",{className:"w-full flex flex-col flex-grow",children:[t("div",{className:"space-y-2 sm:space-y-3.5 mb-3 sm:mb-4",children:[e(be,{categories:f}),t("div",{children:[e("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-sm sm:text-base lg:text-xl",children:e("a",{href:m,className:"line-clamp-2",title:n,dangerouslySetInnerHTML:{__html:n||""}})}),c&&e("div",{className:"hidden sm:block sm:mt-2",children:e("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",dangerouslySetInnerHTML:{__html:c}})})]}),e(Ce,{className:"w-full",meta:{...s}})]}),t("div",{className:"flex items-center flex-wrap justify-between mt-auto",children:[e(xe,{postData:s}),t("div",{className:"flex items-center space-x-2 text-xs text-neutral-700 dark:text-neutral-300 ",children:[e("span",{dangerouslySetInnerHTML:{__html:C.readingTimeShortcode||""}}),e(W,{href:s.link,image:(l=s.featuredImage)==null?void 0:l.node.sourceUrl})]})]})]}),e("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 ",children:t("a",{href:m,className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden z-0",children:[e(D,{containerClassName:"absolute inset-0",src:(d==null?void 0:d.node.sourceUrl)||".",alt:n}),e("span",{children:e(ge,{className:"absolute left-2 bottom-2",postType:x,wrapSize:"w-8 h-8",iconSize:"w-4 h-4"})})]})})]})},ve=({className:o="h-full"})=>t("div",{className:`nc-Card3Skeleton relative flex items-center rounded-[40px] group ${o}`,"data-nc-id":"Card3Skeleton",children:[t("div",{className:"flex flex-col flex-grow overflow-hidden",children:[t("div",{className:"space-y-3.5 mb-4",children:[e(p,{width:"30%"}),t("div",{children:[e("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-xl",children:e(p,{width:"80%"})}),e("div",{className:"hidden sm:block sm:mt-2",children:e("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",children:e(p,{width:"90%"})})})]}),e(p,{width:"90%"})]}),e("div",{className:"flex items-center flex-wrap justify-between mt-auto opacity-0",children:"zz"})]}),e("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 overflow-hidden",children:e("div",{className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden",children:e(D,{containerClassName:"absolute inset-0",src:"."})})})]}),Xe=({className:o="",domNode:s,apiSettings:n,sectionIndex:m})=>{const{graphQLvariables:d,settings:c,graphQLData:f}=n,u=!d&&!!f,{funcGqlQueryGetPosts:C,loading:x,IS_SKELETON:h,LISTS_POSTS:l,data:b,error:H,fetchMore:v,setTabActiveId:S,tabActiveId:y}=Z({graphQLData:f,graphQLvariables:d});let g=null;u?g=J.exports.useRef(null):g=X(C,m).ref;const{hasBackground:G,heading:N,subHeading:k,viewMoreHref:j,gridClass:Q,gridClassCustom:P,showFilterTab:z,blockLayoutStyle:F,enableLoadMoreButton:V,loadMoreButtonHref:w,filterDataBy:T}=c,$=a=>{if(a===-1){S(a);return}a.id!==y&&S(a.id)},E=(a,{fetchMoreResult:r})=>{var i,I,L;return(i=r==null?void 0:r.posts)!=null&&i.edges.length?{...r,posts:{...r.posts,edges:[...(I=a==null?void 0:a.posts)==null?void 0:I.edges,...(L=r==null?void 0:r.posts)==null?void 0:L.edges]}}:a},M=a=>{if(!v||T==="by_specific"||!!w)return;a.preventDefault();const r=l.map(i=>i.node.postId);v({variables:{notIn:r},updateQuery:E})},O=a=>{switch(n.settings.postCardName){case"card3":return e("div",{className:"w-full",children:e(we,{post:a,className:"mb-3 sm:mb-0"})},a.id);case"card4":return e(ne,{post:a},a.id);case"card7":return e(se,{post:a,ratio:"aspect-w-5 aspect-h-5"},a.id);case"card9":return e(oe,{post:a},a.id);case"card10":return e(me,{post:a},a.id);case"card10V2":return e(te,{post:a},a.id);case"card11":return e(he,{post:a},a.id);case"card14":return e(re,{post:a},a.id);case"card15Podcast":return e(fe,{post:a},a.id);default:return null}},q=(a,r)=>{switch(n.settings.postCardName){case"card3":return e(ve,{className:"p-3 sm:p-5 2xl:p-6 [ nc-box-has-hover ] [ nc-dark-box-bg-has-hover ]"},r);case"card4":return e(ie,{},r);case"card7":return e(le,{ratio:"aspect-w-5 aspect-h-5"},r);case"card9":return e(Ne,{},r);case"card10":return e(ue,{},r);case"card10V2":return e(ce,{},r);case"card11":return e(ke,{},r);case"card14":return e(de,{},r);case"card15Podcast":return e(pe,{},r);default:return null}},U=()=>F==="layout-1"?e(_,{desc:k,children:N}):e(_,{desc:k,isCenter:!0,children:N}),K=()=>{var r;const a=G;return t("div",{className:`nc-FactoryBlockPostsGrid relative ${a?"py-16":""}  ${o}`,ref:g,children:[a&&e(R,{}),t("div",{className:"relative",children:[z?e(ee,{tabActiveId:y,tabs:c.categories,viewMoreHref:j,heading:N,subHeading:k,onClickTab:$}):U(),e("div",{className:`grid grid-cols-1 gap-6 2xl:gap-8 ${P||Q}`,children:h?Array.from(Array(Number(c.expectedNumberResults||8)||8).keys()).map(q):l.map(i=>O(i.node))}),e(ae,{className:"my-5",data:l,error:H,isSkeleton:h}),V?w?e("div",{className:"flex mt-12 md:mt-20 justify-center items-center",children:e(A,{href:w,children:B.showMeMore})}):T!=="by_specific"&&((r=b==null?void 0:b.posts.pageInfo)==null?void 0:r.hasNextPage)?e("div",{className:"flex mt-12 md:mt-20 justify-center items-center",children:e(A,{onClick:M,loading:x,children:B.showMeMore})}):null:null]})]})};return Y.createPortal(K(),s)};export{Xe as default};
