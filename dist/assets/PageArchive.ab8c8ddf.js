var K=Object.defineProperty,q=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var F=(d,r,n)=>r in d?K(d,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[r]=n,h=(d,r)=>{for(var n in r||(r={}))J.call(r,n)&&F(d,n,r[n]);if(j)for(var n of j(r))W.call(r,n)&&F(d,n,r[n]);return d},S=(d,r)=>q(d,D(r));import{U as O,J as B,j as e,a as o,N as l,D as A,r as Y,aG as Z}from"./main.c317bc88.js";import{N as V}from"./NcModal.6f3d30d6.js";import{G as X,a as M,P as R}from"./queryGraphql.fd5d3b17.js";import{B as v}from"./ButtonPrimary.600ec514.js";import{C as ee,a as se}from"./CardCategory1Skeleton.050592f8.js";import{T as ne}from"./Tag.8a1ef000.js";import{S as ie}from"./index.7bccf983.js";import{A as ae,S as re}from"./SectionTrendingCategories.5f336e71.js";import{N as te}from"./NcImage.f92bdcb1.js";import{C as oe}from"./Card11.4ea821b7.js";import{C as le}from"./Card11Skeleton.6f87f9c4.js";const de=()=>{const r=O`
    ${X}
  `,[n,{loading:f,error:a,data:i,fetchMore:p}]=B(r,{notifyOnNetworkStatusChange:!0}),E=()=>{i!=null&&i.categories.edges.length||n({variables:{first:20,orderby:null,hideEmpty:!0}})},N=(t,{fetchMoreResult:s})=>{var C,c,x;return(C=s==null?void 0:s.categories)!=null&&C.edges.length?S(h({},s),{categories:S(h({},s.categories),{edges:[...(c=t==null?void 0:t.categories)==null?void 0:c.edges,...(x=s==null?void 0:s.categories)==null?void 0:x.edges]})}):t},y=()=>{!p||p({variables:{first:20,after:(i==null?void 0:i.categories.pageInfo.endCursor)||null},updateQuery:N})},_=f&&!(i!=null&&i.categories.edges.length),T=()=>o("div",{className:"flex flex-col items-center space-y-8",children:[e(A,{data:(i==null?void 0:i.categories.edges)||[],isSkeleton:_,error:a}),o("div",{className:"w-full grid gap-6 grid-cols-1 sm:grid-cols-2 sm:py-2 md:gap-8 md:grid-cols-3 lg:grid-cols-4 xl:md:grid-cols-5",children:[_&&Array.from("iiiiiiiiiiiiiiiiiiii").map((t,s)=>e(ee,{},s)),((i==null?void 0:i.categories.edges)||[]).map(t=>e(se,{taxonomy:t.node,size:"normal"},t.node.id))]}),(i==null?void 0:i.categories.pageInfo.hasNextPage)&&e(v,{loading:f,onClick:y,children:l.showMeMore})]});return e("div",{className:"nc-ModalCats",children:e(V,{onOpenModal:E,triggerText:o("span",{children:[e("span",{className:"hidden sm:inline",children:l.otherCategories})," ",e("span",{className:"inline sm:hidden",children:l.categories})]}),modalTitle:l.discoverOtherCategories,renderContent:T})})},ce=()=>{const r=O`
    ${M}
  `,[n,{error:f,data:a,fetchMore:i,loading:p}]=B(r,{notifyOnNetworkStatusChange:!0}),E=()=>{a!=null&&a.tags.edges.length||n({variables:{first:30}})},N=(t,{fetchMoreResult:s})=>{var C,c,x;return(C=s==null?void 0:s.tags)!=null&&C.edges.length?S(h({},s),{tags:S(h({},s.tags),{edges:[...(c=t==null?void 0:t.tags)==null?void 0:c.edges,...(x=s==null?void 0:s.tags)==null?void 0:x.edges]})}):t},y=()=>{!i||i({variables:{first:30,after:(a==null?void 0:a.tags.pageInfo.endCursor)||null},updateQuery:N})},_=p&&!(a!=null&&a.tags.edges.length),T=()=>o("div",{className:"flex flex-col items-center space-y-5",children:[e(A,{data:(a==null?void 0:a.tags.edges)||[],isSkeleton:_,error:f}),o("div",{className:"w-full flex flex-wrap dark:text-neutral-200",children:[_&&Array.from("iiiiiiiiiiiiiiiiiiiiiiiiiiii").map((t,s)=>e(ie,{height:"38px",className:"mr-2.5 mb-2",width:"90px"},s)),((a==null?void 0:a.tags.edges)||[]).map(t=>e(ne,{tag:t.node,className:"mr-2 mb-2"},t.node.id))]}),(a==null?void 0:a.tags.pageInfo.hasNextPage)&&e(v,{loading:p,onClick:y,children:l.showMeMore})]});return e("div",{className:"nc-ModalTags",children:e(V,{contentExtraClass:"max-w-screen-md",onOpenModal:E,triggerText:o("span",{children:[e("span",{className:"hidden sm:inline",children:l.otherTags})," ",e("span",{className:"inline sm:hidden",children:l.tags})]}),modalTitle:l.discoverOtherTags,renderContent:T})})},$=[{name:l.mostRecent,value:"DATE"},{name:l.mostLiked,value:"FAVORITES_COUNT"},{name:l.mostDiscussed,value:"COMMENT_COUNT"},{name:l.mostViewed,value:"VIEWS_COUNT"}],Q=$,ge=({className:d="",termId:r,termData:n,isCategory:f,isFormatAudio:a,isFormatVideo:i,isTag:p,sectionCategoriesTrending:E})=>{var I,k,w;const N=((I=frontendObject.allSettings)==null?void 0:I.readingSettingsPostsPerPage)||20,[y,_]=Y.exports.useState(Q[0].value);let T={};p?T={order:"DESC",field:y,tagIn:[r],first:N}:T={order:"DESC",field:y,categoryIn:[r],first:N};const t=O`
    ${R}
  `,{loading:s,error:C,data:c,fetchMore:x}=Z(t,{notifyOnNetworkStatusChange:!0,variables:T}),P=(c==null?void 0:c.posts.edges)||[],U=(g,{fetchMoreResult:m})=>{var L,u,G;return(L=m==null?void 0:m.posts)!=null&&L.edges.length?S(h({},m),{posts:S(h({},m.posts),{edges:[...(u=g==null?void 0:g.posts)==null?void 0:u.edges,...(G=m==null?void 0:m.posts)==null?void 0:G.edges]})}):g},H=g=>{_(g.value)},z=()=>{if(!x)return;const g=P.map(m=>m.node.postId);x({variables:{first:N,notIn:g},updateQuery:U})},b=s&&!P.length;return o("div",{className:`nc-PageArchive ${d}`,"data-nc-id":"PageArchive",children:[e("div",{className:"w-full px-2 xl:max-w-screen-2xl mx-auto",children:o("div",{className:"rounded-3xl relative aspect-w-16 aspect-h-12 sm:aspect-h-8 lg:aspect-h-7 xl:aspect-h-5 overflow-hidden ",children:[e(te,{containerClassName:"absolute inset-0",src:((k=n.ncTaxonomyMeta.featuredImage)==null?void 0:k.sourceUrl)||frontendObject.archivePageCoverImgDefault||"https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",className:"object-cover w-full h-full"}),o("div",{className:"absolute inset-0 bg-black text-white bg-opacity-30 flex flex-col items-center justify-center text-center",children:[o("h2",{className:"inline-block align-middle text-4xl sm:text-5xl font-semibold md:text-7xl",children:[p?"#":"",n.name]}),n.description&&e("div",{className:"hidden md:block max-w-xl text-sm mt-3 text-neutral-100",dangerouslySetInnerHTML:{__html:n.description}}),e("span",{className:"block mt-2 sm:mt-4 text-neutral-200",children:`${n.count||0} ${l.articles}`})]})]})}),n.description&&e("div",{className:"container block md:hidden max-w-xl text-sm mt-4",dangerouslySetInnerHTML:{__html:n.description}}),o("div",{className:"container py-16 lg:pb-28 lg:pt-24 space-y-16 lg:space-y-28",children:[o("div",{children:[o("div",{className:"flex flex-col sm:items-center sm:justify-between sm:flex-row",children:[o("div",{className:"flex space-x-2.5",children:[e(de,{}),e(ce,{})]}),e("div",{className:"block my-4 border-b w-full border-neutral-100 sm:hidden"}),e("div",{className:"flex justify-end",children:e(ae,{onChangeSelect:H,lists:Q})})]}),e(A,{className:"my-5",data:P,error:C,isSkeleton:b}),b||P.length?o("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 2xl:gap-8 mt-8 lg:mt-10",children:[b&&Array.from("88888888").map((g,m)=>e(le,{},m)),P.map(g=>e(oe,{post:g.node},g.node.id))]}):null,((w=c==null?void 0:c.posts.pageInfo)==null?void 0:w.hasNextPage)&&e("div",{className:"flex justify-center mt-12 lg:mt-16",children:e(v,{onClick:z,loading:s,children:l.showMeMore})})]}),E.enable&&e(re,S(h({},E),{parentId:Number(r),isCategory:!!f}))]})]})};var Pe=Object.freeze(Object.defineProperty({__proto__:null,ARCHIVE_PAGE_FILTERS:$,default:ge},Symbol.toStringTag,{value:"Module"}));export{$ as A,de as M,Pe as P,ce as a};
