import{T as P,J as j,j as e,a as t,N as r,D as O,r as $,a5 as U}from"./main.e8298863.js";import{N as G}from"./NcModal.ea7062e8.js";import{G as z,a as D,P as H}from"./queryGraphql.89875f7c.js";import{B as b}from"./ButtonPrimary.dfaa9411.js";import{C as K,a as q}from"./CardCategory1Skeleton.999f51d9.js";import{T as W}from"./Tag.64dd9003.js";import{S as J}from"./index.7d8e0d1b.js";import{A as Y,S as Z}from"./SectionTrendingCategories.974d8d00.js";import{N as X}from"./NcImage.ef025992.js";import{C as M}from"./Card11.4f4343bd.js";import{C as R}from"./Card11Skeleton.6cb56570.js";const ee=()=>{const p=P`
    ${z}
  `,[c,{loading:T,error:i,data:n,fetchMore:m}]=j(p,{notifyOnNetworkStatusChange:!0}),C=()=>{n!=null&&n.categories.edges.length||c({variables:{first:20,orderby:null,hideEmpty:!0}})},x=(a,{fetchMoreResult:s})=>{var S,o,g;return(S=s==null?void 0:s.categories)!=null&&S.edges.length?{...s,categories:{...s.categories,edges:[...(o=a==null?void 0:a.categories)==null?void 0:o.edges,...(g=s==null?void 0:s.categories)==null?void 0:g.edges]}}:a},_=()=>{!m||m({variables:{first:20,after:(n==null?void 0:n.categories.pageInfo.endCursor)||null},updateQuery:x})},h=T&&!(n!=null&&n.categories.edges.length),N=()=>t("div",{className:"flex flex-col items-center space-y-8",children:[e(O,{data:(n==null?void 0:n.categories.edges)||[],isSkeleton:h,error:i}),t("div",{className:"w-full grid gap-6 grid-cols-1 sm:grid-cols-2 sm:py-2 md:gap-8 md:grid-cols-3 lg:grid-cols-4 xl:md:grid-cols-5",children:[h&&Array.from("iiiiiiiiiiiiiiiiiiii").map((a,s)=>e(K,{},s)),((n==null?void 0:n.categories.edges)||[]).map(a=>e(q,{taxonomy:a.node,size:"normal"},a.node.id))]}),(n==null?void 0:n.categories.pageInfo.hasNextPage)&&e(b,{loading:T,onClick:_,children:r.showMeMore})]});return e("div",{className:"nc-ModalCats",children:e(G,{onOpenModal:C,triggerText:t("span",{children:[e("span",{className:"hidden sm:inline",children:r.otherCategories})," ",e("span",{className:"inline sm:hidden",children:r.categories})]}),modalTitle:r.discoverOtherCategories,renderContent:N})})},se=()=>{const p=P`
    ${D}
  `,[c,{error:T,data:i,fetchMore:n,loading:m}]=j(p,{notifyOnNetworkStatusChange:!0}),C=()=>{i!=null&&i.tags.edges.length||c({variables:{first:30}})},x=(a,{fetchMoreResult:s})=>{var S,o,g;return(S=s==null?void 0:s.tags)!=null&&S.edges.length?{...s,tags:{...s.tags,edges:[...(o=a==null?void 0:a.tags)==null?void 0:o.edges,...(g=s==null?void 0:s.tags)==null?void 0:g.edges]}}:a},_=()=>{!n||n({variables:{first:30,after:(i==null?void 0:i.tags.pageInfo.endCursor)||null},updateQuery:x})},h=m&&!(i!=null&&i.tags.edges.length),N=()=>t("div",{className:"flex flex-col items-center space-y-5",children:[e(O,{data:(i==null?void 0:i.tags.edges)||[],isSkeleton:h,error:T}),t("div",{className:"w-full flex flex-wrap dark:text-neutral-200",children:[h&&Array.from("iiiiiiiiiiiiiiiiiiiiiiiiiiii").map((a,s)=>e(J,{height:"38px",className:"mr-2.5 mb-2",width:"90px"},s)),((i==null?void 0:i.tags.edges)||[]).map(a=>e(W,{tag:a.node,className:"mr-2 mb-2"},a.node.id))]}),(i==null?void 0:i.tags.pageInfo.hasNextPage)&&e(b,{loading:m,onClick:_,children:r.showMeMore})]});return e("div",{className:"nc-ModalTags",children:e(G,{contentExtraClass:"max-w-screen-md",onOpenModal:C,triggerText:t("span",{children:[e("span",{className:"hidden sm:inline",children:r.otherTags})," ",e("span",{className:"inline sm:hidden",children:r.tags})]}),modalTitle:r.discoverOtherTags,renderContent:N})})},F=window.frontendObject.isActivePluginFavorites?[{name:r.mostRecent,value:"DATE"},{name:r.mostLiked,value:"FAVORITES_COUNT"},{name:r.mostDiscussed,value:"COMMENT_COUNT"},{name:r.mostViewed,value:"VIEWS_COUNT"}]:[{name:r.mostRecent,value:"DATE"},{name:r.mostDiscussed,value:"COMMENT_COUNT"},{name:r.mostViewed,value:"VIEWS_COUNT"}],L=F,ne=({className:E="",termId:p,termData:c,isCategory:T,isFormatAudio:i,isFormatVideo:n,isTag:m,sectionCategoriesTrending:C})=>{var v,A,I;const x=((v=frontendObject.allSettings)==null?void 0:v.readingSettingsPostsPerPage)||20,[_,h]=$.exports.useState(L[0].value);let N={};m?N={order:"DESC",field:_,tagIn:[p],first:x}:N={order:"DESC",field:_,categoryIn:[p],first:x};const a=P`
    ${H}
  `,{loading:s,error:S,data:o,fetchMore:g}=U(a,{notifyOnNetworkStatusChange:!0,variables:N}),f=(o==null?void 0:o.posts.edges)||[],Q=(l,{fetchMoreResult:d})=>{var w,k,u;return(w=d==null?void 0:d.posts)!=null&&w.edges.length?{...d,posts:{...d.posts,edges:[...(k=l==null?void 0:l.posts)==null?void 0:k.edges,...(u=d==null?void 0:d.posts)==null?void 0:u.edges]}}:l},V=l=>{h(l.value)},B=()=>{if(!g)return;const l=f.map(d=>d.node.postId);g({variables:{first:x,notIn:l},updateQuery:Q})},y=s&&!f.length;return t("div",{className:`nc-PageArchive mt-4 sm:mt-7 ${E}`,"data-nc-id":"PageArchive",children:[e("div",{className:"w-full px-2 xl:max-w-screen-2xl mx-auto",children:t("div",{className:"rounded-3xl relative aspect-w-16 aspect-h-12 sm:aspect-h-8 lg:aspect-h-7 xl:aspect-h-5 overflow-hidden ",children:[e(X,{containerClassName:"absolute inset-0",src:((A=c.ncTaxonomyMeta.featuredImage)==null?void 0:A.sourceUrl)||frontendObject.archivePageCoverImgDefault||"https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",className:"object-cover w-full h-full"}),t("div",{className:"absolute inset-0 bg-black text-white bg-opacity-30 flex flex-col items-center justify-center text-center",children:[t("h1",{className:"inline-block align-middle text-4xl sm:text-5xl font-semibold md:text-7xl",children:[m?"#":"",c.name]}),c.description&&e("div",{className:"hidden md:block max-w-xl text-sm mt-3 text-neutral-100",dangerouslySetInnerHTML:{__html:c.description}}),e("span",{className:"block mt-2 sm:mt-4 text-neutral-200",children:`${c.count||0} ${r.articles}`})]})]})}),c.description&&e("div",{className:"container block md:hidden max-w-xl text-sm mt-4",dangerouslySetInnerHTML:{__html:c.description}}),t("div",{className:"container py-16 lg:pb-24 space-y-16 lg:space-y-24",children:[t("div",{children:[t("div",{className:"flex flex-col sm:items-center sm:justify-between sm:flex-row",children:[t("div",{className:"flex space-x-2.5",children:[e(ee,{}),e(se,{})]}),e("div",{className:"block my-4 border-b w-full border-neutral-100 sm:hidden"}),e("div",{className:"flex justify-end",children:e(Y,{onChangeSelect:V,lists:L})})]}),e(O,{className:"my-5",data:f,error:S,isSkeleton:y}),y||f.length?t("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 2xl:gap-8 mt-8 lg:mt-10",children:[y&&Array.from("88888888").map((l,d)=>e(R,{},d)),f.map(l=>e(M,{post:l.node},l.node.id))]}):null,((I=o==null?void 0:o.posts.pageInfo)==null?void 0:I.hasNextPage)&&e("div",{className:"flex justify-center mt-12 lg:mt-16",children:e(b,{onClick:B,loading:s,children:r.showMeMore})})]}),C.enable&&e(Z,{...C,parentId:Number(p),isCategory:!!T})]})]})},xe=Object.freeze(Object.defineProperty({__proto__:null,ARCHIVE_PAGE_FILTERS:F,default:ne},Symbol.toStringTag,{value:"Module"}));export{F as A,ee as M,xe as P,se as a};
