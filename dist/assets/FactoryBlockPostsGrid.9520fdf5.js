var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,c=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&n(e,a,t[a]);if(r)for(var a of r(t))l.call(t,a)&&n(e,a,t[a]);return e},o=(e,r)=>t(e,a(r));import{R as m,S as d,r as i,g as u,u as p,a as f}from"./vendor.3b208adb.js";import{H as E}from"./Heading.ac513da6.js";import{H as b,c as v,b as x,a as g}from"./Card10Skeleton.cdddadb1.js";import{B as h}from"./BackgroundSection.30b8e4d0.js";import{C as y,a as k,b as N,c as w,d as C,e as j,f as S,g as P}from"./Card14Skeleton.330292cf.js";import{C as _}from"./Card9.81ca4a17.js";import{C as M}from"./Card11.489c75a7.js";import{a as I,C as B}from"./Card15PodcastSkeleton.f9ffd53d.js";import{P as O,N as T,b as H,u as L,D,a as F,G,d as Q}from"./main.38f90968.js";import{P as R}from"./PostCardMeta.594360a7.js";import{C as $,P as z}from"./PostFeaturedMedia.51066710.js";import{B as Y}from"./ButtonPrimary.02853f4e.js";import{C as U}from"./Card11Skeleton.7709eb23.js";import"./NextPrev.9a4e713f.js";import"./NavItem.9196150d.js";import"./formatDate.5c5d9c4d.js";import"./PostCardLikeAction.b4c5e7c8.js";import"./ButtonPlayMusicRunningContainer.ddfdb527.js";import"./hooks.311923ab.js";import"./index.1eeac341.js";const q=({className:e="",post:t})=>{var a;const{title:r,link:s,featuredImage:l,excerpt:n,categories:o,postFormats:d,ncPostMetaData:i}=t,u=null==(a=null==d?void 0:d.edges[0])?void 0:a.node.slug;return m.createElement("div",{className:`nc-Card3 relative flex sm:items-center rounded-3xl group sm:p-5 2xl:p-6 [ sm:nc-box-has-hover ] [ sm:nc-dark-box-bg-has-hover ]  ${e}`,"data-nc-id":"Card3"},m.createElement("a",{href:s,className:"absolute inset-0"}),m.createElement("div",{className:"w-full flex flex-col flex-grow"},m.createElement("div",{className:"space-y-2 sm:space-y-3.5 mb-3 sm:mb-4"},m.createElement($,{categories:o}),m.createElement("div",null,m.createElement("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-sm sm:text-base lg:text-xl"},m.createElement("a",{href:s,className:"line-clamp-2",title:r,dangerouslySetInnerHTML:{__html:r||""}})),n&&m.createElement("div",{className:"hidden sm:block sm:mt-2"},m.createElement("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",dangerouslySetInnerHTML:{__html:n}}))),m.createElement(R,{className:"w-full",meta:c({},t)})),m.createElement("div",{className:"flex items-center flex-wrap justify-between mt-auto"},m.createElement(z,{postData:t}),m.createElement("div",{className:"flex items-center space-x-2 text-xs text-neutral-700 dark:text-neutral-300 "},m.createElement("span",{dangerouslySetInnerHTML:{__html:i.readingTimeShortcode||""}}),m.createElement(O,{href:t.link})))),m.createElement("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 "},m.createElement("a",{href:s,className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden"},m.createElement(T,{containerClassName:"absolute inset-0",src:(null==l?void 0:l.node.sourceUrl)||".",alt:r}),m.createElement("span",null,m.createElement(H,{className:"absolute left-2 bottom-2",postType:u,wrapSize:"w-8 h-8",iconSize:"w-4 h-4"})))))},A=({className:e="h-full"})=>m.createElement("div",{className:`nc-Card3Skeleton relative flex items-center rounded-[40px] group ${e}`,"data-nc-id":"Card3Skeleton"},m.createElement("div",{className:"flex flex-col flex-grow overflow-hidden"},m.createElement("div",{className:"space-y-3.5 mb-4"},m.createElement(d,{width:"30%"}),m.createElement("div",null,m.createElement("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-xl"},m.createElement(d,{width:"80%"})),m.createElement("div",{className:"hidden sm:block sm:mt-2"},m.createElement("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1"},m.createElement(d,{width:"90%"})))),m.createElement(d,{width:"90%"})),m.createElement("div",{className:"flex items-center flex-wrap justify-between mt-auto opacity-0"},"zz")),m.createElement("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 overflow-hidden"},m.createElement("div",{className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden"},m.createElement(T,{containerClassName:"absolute inset-0",src:"."})))),V=({className:e="",domNode:t,apiSettings:a,sectionIndex:r})=>{const{graphQLvariables:s,settings:l}=a,[n,d]=i.exports.useState(-1),[O,T]=i.exports.useState(s.variables||{});i.exports.useEffect((()=>{T(s.variables)}),[s]);let H="";"GQL_QUERY_GET_POSTS_BY_FILTER"===s.queryString&&(H=G),"GQL_QUERY_GET_POSTS_BY_SPECIFIC"===s.queryString&&(H=Q);const R=u`
    ${H}
  `;i.exports.useEffect((()=>{T((e=>{var t;return o(c({},e),{categoryIn:-1===n?null==(t=s.variables)?void 0:t.categoryIn:[n]})}))}),[n]);const[$,{loading:z,error:V,data:J,fetchMore:K}]=p(R,{notifyOnNetworkStatusChange:!0,variables:O}),{ref:W}=L($,r),X=(null==J?void 0:J.posts.edges)||[],Z=z&&!X.length,{hasBackground:ee,heading:te,subHeading:ae,viewMoreHref:re,gridClass:se,gridClassCustom:le,showFilterTab:ne,blockLayoutStyle:ce,enableLoadMoreButton:oe,loadMoreButtonHref:me,filterDataBy:de}=l,ie=e=>{-1!==e?e.id!==n&&d(e.id):d(e)},ue=(e,{fetchMoreResult:t})=>{var a,r,s;return(null==(a=null==t?void 0:t.posts)?void 0:a.edges.length)?o(c({},t),{posts:o(c({},t.posts),{edges:[...null==(r=null==e?void 0:e.posts)?void 0:r.edges,...null==(s=null==t?void 0:t.posts)?void 0:s.edges]})}):e},pe=e=>{if(!K||"by_specific"===de||me)return;e.preventDefault();const t=X.map((e=>e.node.postId));K({variables:{notIn:t},updateQuery:ue})},fe=(e,t)=>{switch(a.settings.postCardName){case"card3":return m.createElement(A,{key:t,className:"p-3 sm:p-5 2xl:p-6 [ nc-box-has-hover ] [ nc-dark-box-bg-has-hover ]"});case"card4":return m.createElement(P,{key:t});case"card7":return m.createElement(S,{key:t,ratio:"aspect-w-5 aspect-h-5"});case"card9":return m.createElement(g,{key:t});case"card10":return m.createElement(x,{key:t});case"card10V2":return m.createElement(j,{key:t});case"card11":return m.createElement(U,{key:t});case"card14":return m.createElement(C,{key:t});case"card15Podcast":return m.createElement(B,{key:t});default:return null}};return f.createPortal((()=>{var t;const r=ee;return m.createElement("div",{className:`nc-FactoryBlockPostsGrid relative ${r?"py-16":""}  ${e}`,ref:W},r&&m.createElement(h,null),m.createElement("div",{className:"relative"},ne?m.createElement(b,{tabActiveId:n,tabs:l.categories,viewMoreHref:re,heading:te,subHeading:ae,onClickTab:ie}):"layout-1"===ce?m.createElement(E,{desc:ae},te):m.createElement(E,{desc:ae,isCenter:!0},te),m.createElement("div",{className:`grid grid-cols-1 gap-6 2xl:gap-8 ${le||se}`},Z?[1,1,1,1,1,1,1,1].map(fe):X.map((e=>(e=>{switch(a.settings.postCardName){case"card3":return m.createElement("div",{className:"w-full",key:e.id},m.createElement(q,{post:e,className:"mb-3 sm:mb-0"}));case"card4":return m.createElement(w,{key:e.id,post:e});case"card7":return m.createElement(N,{key:e.id,post:e,ratio:"aspect-w-5 aspect-h-5"});case"card9":return m.createElement(_,{key:e.id,post:e});case"card10":return m.createElement(v,{key:e.id,post:e});case"card10V2":return m.createElement(k,{key:e.id,post:e});case"card11":return m.createElement(M,{key:e.id,post:e});case"card14":return m.createElement(y,{key:e.id,post:e});case"card15Podcast":return m.createElement(I,{key:e.id,post:e});default:return null}})(e.node)))),m.createElement(D,{className:"my-5",data:X,error:V,isSkeleton:Z}),oe?me?m.createElement("div",{className:"flex mt-12 md:mt-20 justify-center items-center"},m.createElement(Y,{href:me},F.showMeMore)):"by_specific"!==de&&(null==(t=null==J?void 0:J.posts.pageInfo)?void 0:t.hasNextPage)?m.createElement("div",{className:"flex mt-12 md:mt-20 justify-center items-center"},m.createElement(Y,{onClick:pe,loading:z},F.showMeMore)):null:null))})(),t)};export{V as default};
