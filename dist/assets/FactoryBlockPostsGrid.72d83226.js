import{a as t,j as e,P as Z,u as J,r as X,b as Y,R,B as ee,H as ae,D as re,N as _,c as A}from"./main.24165b1f.js";import{C as te,a as se,b as ne,c as de,d as le,e as ce,f as ie,g as oe}from"./Card14Skeleton.7c2ef68d.js";import{C as me}from"./Card9.33a9c3e5.js";import{C as ue,a as he}from"./Card10Skeleton.58156966.js";import{C as fe}from"./Card11.1b3ea4cd.js";import{C as pe,a as Ce}from"./Card15PodcastSkeleton.1a79b280.js";import{N as H}from"./NcImage.6e2a5f3b.js";import{P as xe}from"./PostCardMeta.21704c11.js";import{P as be}from"./PostCardLikeAndComment.a1c4e6dd.js";import{C as ge}from"./CategoryBadgeList.78a20282.js";import{P as Ne}from"./PostTypeFeaturedIcon.766fe817.js";import{B as D}from"./ButtonPrimary.e69047dd.js";import{S as C}from"./index.1bab7e24.js";import{C as ke}from"./Card9Skeleton.57005909.js";import{C as we}from"./Card11Skeleton.6f7f684c.js";import"./CardAuthor2.0779bf42.js";import"./formatDate.81b7fc4e.js";import"./PostCardLikeAction.21e7db78.js";import"./PostFeaturedMedia.61502b9a.js";import"./index.caa5d361.js";import"./ButtonPlayMusicRunningContainer.409ee567.js";import"./LoadingVideo.ee2cb9ed.js";import"./PostMoreActionDropdown.1aa9ed1f.js";import"./ButtonPrimaryDanger.2f1fc666.js";import"./NcModal.68e8d06c.js";import"./ButtonClose.090f6f33.js";import"./Badge.30b73aae.js";const ve=({className:i="",post:s})=>{var h,l;const{title:n,link:o,featuredImage:d,excerpt:m,categories:f,postFormats:u,ncPostMetaData:x}=s,b=(h=u==null?void 0:u.edges[0])==null?void 0:h.node.slug;return t("div",{className:`nc-Card3 relative flex sm:items-center rounded-3xl group sm:p-5 2xl:p-6 [ sm:nc-box-has-hover ] [ sm:nc-dark-box-bg-has-hover ]  ${i}`,"data-nc-id":"Card3",children:[e("a",{href:o,className:"absolute inset-0"}),t("div",{className:"w-full flex flex-col flex-grow",children:[t("div",{className:"space-y-2 sm:space-y-3.5 mb-3 sm:mb-4",children:[e(ge,{categories:f}),t("div",{children:[e("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-sm sm:text-base lg:text-xl",children:e("a",{href:o,className:"line-clamp-2",title:n,dangerouslySetInnerHTML:{__html:n||""}})}),m&&e("div",{className:"hidden sm:block sm:mt-2",children:e("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",dangerouslySetInnerHTML:{__html:m}})})]}),e(xe,{className:"w-full",meta:{...s}})]}),t("div",{className:"flex items-center flex-wrap justify-between mt-auto",children:[e(be,{postData:s}),t("div",{className:"flex items-center space-x-2 text-xs text-neutral-700 dark:text-neutral-300 ",children:[e("span",{dangerouslySetInnerHTML:{__html:x.readingTimeShortcode||""}}),e(Z,{href:s.link,image:(l=s.featuredImage)==null?void 0:l.node.sourceUrl})]})]})]}),e("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 ",children:t("a",{href:o,className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden z-0",children:[e(H,{containerClassName:"absolute inset-0",src:(d==null?void 0:d.node.sourceUrl)||".",alt:n}),e("span",{children:e(Ne,{className:"absolute left-2 bottom-2",postType:b,wrapSize:"w-8 h-8",iconSize:"w-4 h-4"})})]})})]})},Se=({className:i="h-full"})=>t("div",{className:`nc-Card3Skeleton relative flex items-center rounded-[40px] group ${i}`,"data-nc-id":"Card3Skeleton",children:[t("div",{className:"flex flex-col flex-grow overflow-hidden",children:[t("div",{className:"space-y-3.5 mb-4",children:[e(C,{width:"30%"}),t("div",{children:[e("h3",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100 text-xl",children:e(C,{width:"80%"})}),e("div",{className:"hidden sm:block sm:mt-2",children:e("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",children:e(C,{width:"90%"})})})]}),e(C,{width:"90%"})]}),e("div",{className:"flex items-center flex-wrap justify-between mt-auto opacity-0",children:"zz"})]}),e("div",{className:"block flex-shrink-0 ml-5 w-20 sm:w-44 2xl:w-56 overflow-hidden",children:e("div",{className:"w-full block h-0 aspect-h-16 aspect-w-16 rounded-md sm:rounded-2xl overflow-hidden",children:e(H,{containerClassName:"absolute inset-0",src:"."})})})]}),Ye=({className:i="",domNode:s,apiSettings:n,sectionIndex:o})=>{const{graphQLvariables:d,settings:m,graphQLData:f}=n,u=!d&&!!f,{funcGqlQueryGetPosts:x,loading:b,IS_SKELETON:h,LISTS_POSTS:l,data:g,error:G,fetchMore:S,setTabActiveId:y,tabActiveId:P}=J({graphQLData:f,graphQLvariables:d});let N=null;u?N=X.exports.useRef(null):N=Y(x,o).ref;const{hasBackground:j,heading:k,subHeading:w,viewMoreHref:Q,gridClass:z,gridClassCustom:T,showFilterTab:F,blockLayoutStyle:V,enableLoadMoreButton:$,loadMoreButtonHref:v,filterDataBy:I,categories:p}=m,E=a=>{if(a===-1){y(a);return}a.id!==P&&y(a.id)},M=(a,{fetchMoreResult:r})=>{var c,L,B;return(c=r==null?void 0:r.posts)!=null&&c.edges.length?{...r,posts:{...r.posts,edges:[...(L=a==null?void 0:a.posts)==null?void 0:L.edges,...(B=r==null?void 0:r.posts)==null?void 0:B.edges]}}:a},O=a=>{if(!S||I==="by_specific"||!!v)return;a.preventDefault();const r=l.map(c=>c.node.postId);S({variables:{notIn:r},updateQuery:M})},q=a=>{switch(n.settings.postCardName){case"card3":return e("div",{className:"w-full",children:e(ve,{post:a,className:"mb-3 sm:mb-0"})},a.id);case"card4":return e(de,{post:a},a.id);case"card7":return e(ne,{post:a,ratio:"aspect-w-5 aspect-h-5"},a.id);case"card9":return e(me,{post:a},a.id);case"card10":return e(ue,{post:a},a.id);case"card10V2":return e(se,{post:a},a.id);case"card11":return e(fe,{post:a},a.id);case"card14":return e(te,{post:a},a.id);case"card15Podcast":return e(pe,{post:a},a.id);default:return null}},U=(a,r)=>{switch(n.settings.postCardName){case"card3":return e(Se,{className:"p-3 sm:p-5 2xl:p-6 [ nc-box-has-hover ] [ nc-dark-box-bg-has-hover ]"},r);case"card4":return e(oe,{},r);case"card7":return e(ie,{ratio:"aspect-w-5 aspect-h-5"},r);case"card9":return e(ke,{},r);case"card10":return e(he,{},r);case"card10V2":return e(ce,{},r);case"card11":return e(we,{},r);case"card14":return e(le,{},r);case"card15Podcast":return e(Ce,{},r);default:return null}},K=()=>V==="layout-1"?e(A,{desc:w,children:k}):e(A,{desc:w,isCenter:!0,children:k}),W=()=>{var r;const a=j;return t("div",{className:`nc-FactoryBlockPostsGrid relative ${a?"py-16":""}  ${i}`,ref:N,children:[a&&e(ee,{}),t("div",{className:"relative",children:[F&&!!(p!=null&&p.length)?e(ae,{tabActiveId:P,tabs:p,viewMoreHref:Q,heading:k,subHeading:w,onClickTab:E}):K(),e("div",{className:`grid grid-cols-1 gap-6 2xl:gap-8 ${T||z}`,children:h?Array.from(Array(Number(m.expectedNumberResults||8)||8).keys()).map(U):l.map(c=>q(c.node))}),e(re,{className:"my-5",data:l,error:G,isSkeleton:h}),$?v?e("div",{className:"flex mt-12 md:mt-20 justify-center items-center",children:e(D,{href:v,children:_.showMeMore})}):I!=="by_specific"&&((r=g==null?void 0:g.posts.pageInfo)==null?void 0:r.hasNextPage)?e("div",{className:"flex mt-12 md:mt-20 justify-center items-center",children:e(D,{onClick:O,loading:b,children:_.showMeMore})}):null:null]})]})};return R.createPortal(W(),s)};export{Ye as default};
