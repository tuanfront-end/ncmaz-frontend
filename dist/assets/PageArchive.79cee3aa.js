import{U as P,J as G,j as e,a as r,N as t,D as b,r as V,a6 as U}from"./main.24165b1f.js";import{N as j}from"./NcModal.68e8d06c.js";import{G as z,a as H,P as K}from"./queryGraphql.eb63c63c.js";import{B as O}from"./ButtonPrimary.e69047dd.js";import{C as q,a as D}from"./CardCategory1Skeleton.d50a48bf.js";import{T as J}from"./Tag.94fec774.js";import{S as W}from"./index.1bab7e24.js";import{A as Y,S as Z}from"./SectionTrendingCategories.33a33f77.js";import{N as X}from"./NcImage.6e2a5f3b.js";import{C as M}from"./Card11.1b3ea4cd.js";import{C as R}from"./Card11Skeleton.6f7f684c.js";const ee=()=>{const p=P`
    ${z}
  `,[c,{loading:T,error:i,data:n,fetchMore:g}]=G(p,{notifyOnNetworkStatusChange:!0}),_=()=>{n!=null&&n.categories.edges.length||c({variables:{first:20,orderby:null,hideEmpty:!0}})},x=(a,{fetchMoreResult:s})=>{var N,o,m;return(N=s==null?void 0:s.categories)!=null&&N.edges.length?{...s,categories:{...s.categories,edges:[...(o=a==null?void 0:a.categories)==null?void 0:o.edges,...(m=s==null?void 0:s.categories)==null?void 0:m.edges]}}:a},C=()=>{!g||g({variables:{first:20,after:(n==null?void 0:n.categories.pageInfo.endCursor)||null},updateQuery:x})},h=T&&!(n!=null&&n.categories.edges.length),S=()=>r("div",{className:"flex flex-col items-center space-y-8",children:[e(b,{data:(n==null?void 0:n.categories.edges)||[],isSkeleton:h,error:i}),r("div",{className:"w-full grid gap-6 grid-cols-1 sm:grid-cols-2 sm:py-2 md:gap-8 md:grid-cols-3 lg:grid-cols-4 xl:md:grid-cols-5",children:[h&&Array.from("iiiiiiiiiiiiiiiiiiii").map((a,s)=>e(q,{},s)),((n==null?void 0:n.categories.edges)||[]).map(a=>e(D,{taxonomy:a.node,size:"normal"},a.node.id))]}),(n==null?void 0:n.categories.pageInfo.hasNextPage)&&e(O,{loading:T,onClick:C,children:t.showMeMore})]});return e("div",{className:"nc-ModalCats",children:e(j,{onOpenModal:_,triggerText:r("span",{children:[e("span",{className:"hidden sm:inline",children:t.otherCategories})," ",e("span",{className:"inline sm:hidden",children:t.categories})]}),modalTitle:t.discoverOtherCategories,renderContent:S})})},se=()=>{const p=P`
    ${H}
  `,[c,{error:T,data:i,fetchMore:n,loading:g}]=G(p,{notifyOnNetworkStatusChange:!0}),_=()=>{i!=null&&i.tags.edges.length||c({variables:{first:30}})},x=(a,{fetchMoreResult:s})=>{var N,o,m;return(N=s==null?void 0:s.tags)!=null&&N.edges.length?{...s,tags:{...s.tags,edges:[...(o=a==null?void 0:a.tags)==null?void 0:o.edges,...(m=s==null?void 0:s.tags)==null?void 0:m.edges]}}:a},C=()=>{!n||n({variables:{first:30,after:(i==null?void 0:i.tags.pageInfo.endCursor)||null},updateQuery:x})},h=g&&!(i!=null&&i.tags.edges.length),S=()=>r("div",{className:"flex flex-col items-center space-y-5",children:[e(b,{data:(i==null?void 0:i.tags.edges)||[],isSkeleton:h,error:T}),r("div",{className:"w-full flex flex-wrap dark:text-neutral-200",children:[h&&Array.from("iiiiiiiiiiiiiiiiiiiiiiiiiiii").map((a,s)=>e(W,{height:"38px",className:"mr-2.5 mb-2",width:"90px"},s)),((i==null?void 0:i.tags.edges)||[]).map(a=>e(J,{tag:a.node,className:"mr-2 mb-2"},a.node.id))]}),(i==null?void 0:i.tags.pageInfo.hasNextPage)&&e(O,{loading:g,onClick:C,children:t.showMeMore})]});return e("div",{className:"nc-ModalTags",children:e(j,{contentExtraClass:"max-w-screen-md",onOpenModal:_,triggerText:r("span",{children:[e("span",{className:"hidden sm:inline",children:t.otherTags})," ",e("span",{className:"inline sm:hidden",children:t.tags})]}),modalTitle:t.discoverOtherTags,renderContent:S})})},F=[{name:t.mostRecent,value:"DATE"},{name:t.mostLiked,value:"FAVORITES_COUNT"},{name:t.mostDiscussed,value:"COMMENT_COUNT"},{name:t.mostViewed,value:"VIEWS_COUNT"}],u=F,ne=({className:y="",termId:p,termData:c,isCategory:T,isFormatAudio:i,isFormatVideo:n,isTag:g,sectionCategoriesTrending:_})=>{var v,A,I;const x=((v=frontendObject.allSettings)==null?void 0:v.readingSettingsPostsPerPage)||20,[C,h]=V.exports.useState(u[0].value);let S={};g?S={order:"DESC",field:C,tagIn:[p],first:x}:S={order:"DESC",field:C,categoryIn:[p],first:x};const a=P`
    ${K}
  `,{loading:s,error:N,data:o,fetchMore:m}=U(a,{notifyOnNetworkStatusChange:!0,variables:S}),f=(o==null?void 0:o.posts.edges)||[],Q=(l,{fetchMoreResult:d})=>{var k,w,L;return(k=d==null?void 0:d.posts)!=null&&k.edges.length?{...d,posts:{...d.posts,edges:[...(w=l==null?void 0:l.posts)==null?void 0:w.edges,...(L=d==null?void 0:d.posts)==null?void 0:L.edges]}}:l},B=l=>{h(l.value)},$=()=>{if(!m)return;const l=f.map(d=>d.node.postId);m({variables:{first:x,notIn:l},updateQuery:Q})},E=s&&!f.length;return r("div",{className:`nc-PageArchive ${y}`,"data-nc-id":"PageArchive",children:[e("div",{className:"w-full px-2 xl:max-w-screen-2xl mx-auto",children:r("div",{className:"rounded-3xl relative aspect-w-16 aspect-h-12 sm:aspect-h-8 lg:aspect-h-7 xl:aspect-h-5 overflow-hidden ",children:[e(X,{containerClassName:"absolute inset-0",src:((A=c.ncTaxonomyMeta.featuredImage)==null?void 0:A.sourceUrl)||frontendObject.archivePageCoverImgDefault||"https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",className:"object-cover w-full h-full"}),r("div",{className:"absolute inset-0 bg-black text-white bg-opacity-30 flex flex-col items-center justify-center text-center",children:[r("h1",{className:"inline-block align-middle text-4xl sm:text-5xl font-semibold md:text-7xl",children:[g?"#":"",c.name]}),c.description&&e("div",{className:"hidden md:block max-w-xl text-sm mt-3 text-neutral-100",dangerouslySetInnerHTML:{__html:c.description}}),e("span",{className:"block mt-2 sm:mt-4 text-neutral-200",children:`${c.count||0} ${t.articles}`})]})]})}),c.description&&e("div",{className:"container block md:hidden max-w-xl text-sm mt-4",dangerouslySetInnerHTML:{__html:c.description}}),r("div",{className:"container py-16 lg:pb-28 lg:pt-24 space-y-16 lg:space-y-28",children:[r("div",{children:[r("div",{className:"flex flex-col sm:items-center sm:justify-between sm:flex-row",children:[r("div",{className:"flex space-x-2.5",children:[e(ee,{}),e(se,{})]}),e("div",{className:"block my-4 border-b w-full border-neutral-100 sm:hidden"}),e("div",{className:"flex justify-end",children:e(Y,{onChangeSelect:B,lists:u})})]}),e(b,{className:"my-5",data:f,error:N,isSkeleton:E}),E||f.length?r("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 2xl:gap-8 mt-8 lg:mt-10",children:[E&&Array.from("88888888").map((l,d)=>e(R,{},d)),f.map(l=>e(M,{post:l.node},l.node.id))]}):null,((I=o==null?void 0:o.posts.pageInfo)==null?void 0:I.hasNextPage)&&e("div",{className:"flex justify-center mt-12 lg:mt-16",children:e(O,{onClick:$,loading:s,children:t.showMeMore})})]}),_.enable&&e(Z,{..._,parentId:Number(p),isCategory:!!T})]})]})},xe=Object.freeze(Object.defineProperty({__proto__:null,ARCHIVE_PAGE_FILTERS:F,default:ne},Symbol.toStringTag,{value:"Module"}));export{F as A,ee as M,xe as P,se as a};
