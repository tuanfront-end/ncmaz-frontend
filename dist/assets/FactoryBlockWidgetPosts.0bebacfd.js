var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,s=(e,s)=>{for(var n in s||(s={}))t.call(s,n)&&l(e,n,s[n]);if(a)for(var n of a(s))r.call(s,n)&&l(e,n,s[n]);return e};import{R as n,H as o,J as m,K as c,h as i}from"./vendor.061fbf51.js";import{N as d}from"./NcImage.8e407e46.js";import{P as f}from"./PostCardMeta.78843450.js";import{W as u}from"./WidgetHeading1.b16fd60a.js";import{D as p}from"./DataStatementBlockV2.eabe0a43.js";import{G as b,a as v}from"./main.b42e1bb2.js";import{u as h}from"./useGqlQuerySection.bffb6faf.js";import"./formatDate.5c5d9c4d.js";import"./EmptyState.98e2bbcc.js";const g=({className:e="h-full",post:a})=>{const{title:t,link:r,featuredImage:l}=a;return n.createElement("div",{className:`nc-Card3Small relative flex flex-col-reverse sm:flex-row sm:justify-between sm:items-center ${e}`,"data-nc-id":"Card3Small"},n.createElement("a",{href:r,className:" absolute inset-0",title:t}),n.createElement("div",{className:"relative space-y-2"},n.createElement(f,{meta:s({},a)}),n.createElement("h2",{className:"nc-card-title block text-base font-semibold text-neutral-900 dark:text-neutral-100"},n.createElement("a",{href:r,className:" line-clamp-2",title:t},t))),n.createElement("a",{href:r,title:t,className:"block sm:w-20 flex-shrink-0 relative rounded-lg overflow-hidden mb-5 sm:ml-4 sm:mb-0 group"},n.createElement("div",{className:"w-full h-0 aspect-w-16 aspect-h-9 sm:aspect-h-16"},n.createElement(d,{containerClassName:"absolute inset-0",className:"nc-will-change-transform object-cover w-full h-full group-hover:scale-110 transform transition-transform duration-300",src:(null==l?void 0:l.node.sourceUrl)||".",title:t}))))},E=({className:e="h-full"})=>n.createElement("div",{className:`nc-Card3SmallSkeleton relative flex flex-col-reverse sm:flex-row sm:justify-between sm:items-center ${e}`,"data-nc-id":"Card3SmallSkeleton"},n.createElement("div",{className:"relative flex-grow space-y-2"},n.createElement(o,{width:"50%"}),n.createElement("h2",{className:"nc-card-title block text-base font-semibold text-neutral-900 dark:text-neutral-100"},n.createElement(o,{width:"80%"}))),n.createElement("div",{className:"block sm:w-20 flex-shrink-0 relative rounded-lg overflow-hidden mb-5 sm:ml-4 sm:mb-0 group"},n.createElement("div",{className:"w-full h-0 aspect-w-16 aspect-h-9 sm:aspect-h-16"},n.createElement(d,{containerClassName:"absolute inset-0",className:"nc-will-change-transform object-cover w-full h-full group-hover:scale-110 transform transition-transform duration-300",src:"."})))),N=({className:e="bg-neutral-100 dark:bg-neutral-800",heading:a="",posts:t,isLoading:r,postLoading:l=[1,1,1,1]})=>n.createElement("div",{className:`nc-WidgetPosts rounded-3xl overflow-hidden ${e}`,"data-nc-id":"WidgetPosts"},a&&n.createElement(u,{title:a}),n.createElement("div",{className:"flex flex-col divide-y divide-neutral-200 dark:divide-neutral-700"},r?l.map(((e,a)=>n.createElement(E,{className:"p-4 xl:px-5 xl:py-6 hover:bg-neutral-200 dark:hover:bg-neutral-700",key:a}))):t.map(((e,a)=>n.createElement(g,{className:"p-4 xl:px-5 xl:py-6 hover:bg-neutral-200 dark:hover:bg-neutral-700",key:a,post:e.node}))))),x=({domNode:e,apiSettings:a,sectionIndex:t})=>{const{graphQLvariables:r,settings:l}=a;let s="";"GQL_QUERY_GET_POSTS_BY_FILTER"===r.queryString&&(s=b),"GQL_QUERY_GET_POSTS_BY_SPECIFIC"===r.queryString&&(s=v);const o=m`
    ${s}
  `,[d,{loading:f,error:u,data:g,fetchMore:E}]=c(o,{variables:r.variables}),{ref:x}=h(d,t),w=(null==g?void 0:g.posts.edges)||[],y=f&&!w.length;return i.createPortal(n.createElement("div",{ref:x},n.createElement(N,{posts:w,isLoading:y,heading:l.heading}),n.createElement(p,{className:"my-5",data:w,error:u,isSkeleton:y})),e)};export{x as default};
