import{r as u,a as E,b as w,j as r}from"./main.9a4c9a70.js";import{H as k}from"./Heading.2623238b.js";import{H as $}from"./HeaderSectionFilter.66c983f3.js";import{B as q}from"./BackgroundSection.0083cf1c.js";import{G as M}from"./glide.esm.b495f968.js";import{c as y,C as K,a as W,b as Y,g as _,d as z,e as J,f as U}from"./Card14Skeleton.d82c214d.js";import{C as X}from"./Card9.c7db4630.js";import{C as Z,a as rr}from"./Card10Skeleton.ae6fc0ca.js";import{C as er}from"./Card11.3c0ad2fa.js";import{N as ar}from"./NextPrev.207788ff.js";import{D as tr}from"./DataStatementBlockV2.49bfc0f5.js";import{C as sr}from"./Card9Skeleton.655e09a6.js";import{C as or}from"./Card11Skeleton.b1431acc.js";import{u as ir}from"./useGqlQuerySection.81610e2c.js";import{u as nr}from"./useGutenbergSectionWithGQLGetPosts.58f5655b.js";import"./ButtonSecondary.8a8918a0.js";import"./Button.30a3d829.js";import"./NavItem.3644b229.js";import"./CardAuthor2.3f123caf.js";import"./formatDate.5c5d9c4d.js";import"./CategoryBadgeList.d4036f62.js";import"./Badge.666f2391.js";import"./PostCardLikeAction.dd1ca4b3.js";import"./PostFeaturedMedia.ea9be166.js";import"./NcImage.775aecc9.js";import"./PostTypeFeaturedIcon.796acd0c.js";import"./useIntersectionObserver.98765581.js";import"./index.4ac0cf93.js";import"./ReactPlayer.f6e83d21.js";import"./ButtonPlayMusicRunningContainer.a5fdd3cb.js";import"./LoadingVideo.6a1ac3e8.js";import"./index.9e3c451e.js";import"./PostCardLikeAndComment.c0680774.js";import"./PostCardMeta.fc91be9f.js";import"./PostMoreActionDropdown.f9a02c2e.js";import"./NcModal.173747f7.js";import"./ButtonClose.660def1a.js";import"./EmptyState.efe461be.js";import"./useQuery.242ac0b5.js";import"./useLazyQuery.5ac1e84c.js";const Jr=({className:P="",domNode:T,apiSettings:s,sectionIndex:x})=>{var N;const o=u.exports.useRef(null),{graphQLvariables:p,settings:a,graphQLData:f}=s,V=!p&&!!f,{funcGqlQueryGetPosts:A,loading:dr,IS_SKELETON:i,LISTS_POSTS:h,DONOT_ANY_THING:C,data:H,error:G,fetchMore:cr,setTabActiveId:g,tabActiveId:v}=nr({graphQLData:f,graphQLvariables:p});let c=null;V?c=u.exports.useRef(null):c=ir(A,x).ref;const D=e=>{if(e===-1){g(e);return}e.id!==v&&g(e.id)},t=a.blockLayoutStyle==="layout-2"||a.showFilterTab,n=a.itemPerView||5,I={direction:((N=document.querySelector("html"))==null?void 0:N.getAttribute("dir"))==="rtl"?"rtl":"ltr",perView:n,startAt:i||C?0:a.sliderStartAt,hoverpause:a.sliderHoverpause,animationDuration:a.sliderAnimationDuration||void 0,rewind:a.sliderRewind||!0,autoplay:i||C?!1:a.sliderAutoplayTime||!1,gap:32,bound:!0,breakpoints:{1440:{gap:24},1280:{perView:n-1,gap:24},1023:{perView:n-2||1.2,gap:24},767:{perView:n-2||1.2,gap:20},639:{perView:1.2,gap:20}}};u.exports.useEffect(()=>{if(!o.current)return;const e=new M(o.current,I);return e.mount(),()=>e.destroy()},[H,o,a]);const L=e=>{switch(s.settings.postCardName){case"card4":return r(y,{post:e,className:t?void 0:"hover:!shadow-sm"});case"card7":return r(Y,{post:e});case"card9":return r(X,{post:e});case"card10":return r(Z,{post:e});case"card10V2":return r(W,{post:e});case"card11":return r(er,{post:e,className:t?void 0:"hover:!shadow-sm"});case"card14":return r(K,{post:e});default:return r(y,{className:t?void 0:"hover:!shadow-sm",post:e})}},B=()=>{switch(s.settings.postCardName){case"card4":return r(_,{className:t?void 0:"hover:!shadow-sm"});case"card7":return r(U,{});case"card9":return r(sr,{});case"card10":return r(rr,{});case"card10V2":return r(J,{});case"card11":return r(or,{className:t?void 0:"hover:!shadow-sm"});case"card14":return r(z,{});default:return r(_,{className:t?void 0:"hover:!shadow-sm"})}},F=()=>{const{heading:e,subHeading:d,blockLayoutStyle:l}=s.settings;return l==="layout-1"?r(k,{desc:d,hasNextPrev:!0,children:e}):r(k,{desc:d,isCenter:!0,children:e})},O=()=>{const{hasBackground:e,subHeading:d,heading:l,showFilterTab:Q,categories:R,viewMoreHref:j}=a,b=e;return w("div",{className:`nc-FactoryBlockPostsSlider relative  ${b?"py-16":""}  ${P}`,ref:c,children:[b&&r(q,{}),w("div",{className:"relative ",ref:o,children:[Q?r($,{tabActiveId:v,tabs:R,viewMoreHref:j,heading:l,subHeading:d,onClickTab:D}):F(),r("div",{className:"glide__track","data-glide-el":"track",children:r("ul",{className:"glide__slides",children:i?[1,1,1,1,1,1,1,1].map((S,m)=>r("li",{className:`glide__slide ${t?"pb-12 xl:pb-16":""}`,children:B()},m)):h.map((S,m)=>r("li",{className:`glide__slide ${t?"pb-12 xl:pb-16":""}`,children:L(S.node)},m))})}),r(tr,{className:"my-5",data:h,error:G,isSkeleton:i}),t&&r(ar,{btnClassName:"w-12 h-12",containerClassName:"justify-center"})]})]})};return E.createPortal(O(),T)};export{Jr as default};
