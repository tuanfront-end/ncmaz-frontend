import{r as e,R as a,g as r,u as t,a as s}from"./vendor.3b208adb.js";import{B as o}from"./BackgroundSection.30b8e4d0.js";import{H as n}from"./Heading.ac513da6.js";import{G as l}from"./glide.esm.699249e3.js";import{n as i}from"./ncNanoId.f7ff4ede.js";import{C as c,a as d}from"./CardAuthorBox2Skeleton.f7a0ddbf.js";import{N as m}from"./NextPrev.9a4e713f.js";import{C as u,a as g}from"./CardAuthorBoxSkeleton.65c16425.js";import{u as p,D as h,m as N,n as E}from"./main.38f90968.js";const f=({heading:r,subHeading:t,className:s="",authorNodes:o,itemPerView:p=5,authorCardName:h,blockLayoutStyle:N,isLoading:E,authorNodesLoading:f=[1,1,1,1,1,1,1,1,1]})=>{const b="SectionSliderNewAuthors"+i(),S=new l(`.${b}`,{perView:p,gap:32,bound:!0,breakpoints:{1440:{gap:24},1280:{perView:p-1,gap:24},1023:{perView:3,gap:24},767:{gap:20,perView:2},639:{perView:2,gap:20},500:{perView:1.2,gap:20}}});e.exports.useEffect((()=>{S.mount()}),[o,S]);const w="layout-2"===N;return a.createElement("div",{className:`nc-SectionSliderNewAuthors ${s}`},a.createElement("div",{className:`${b}`},a.createElement(n,{isCenter:!w,desc:t,hasNextPrev:w},r),a.createElement("div",{className:"glide__track","data-glide-el":"track"},a.createElement("ul",{className:"glide__slides"},E?f.map(((e,r)=>a.createElement("li",{key:r,className:"glide__slide "+(w?"":"pb-12 md:pb-16")},(()=>{switch(h){case"card1":return a.createElement(g,{className:w?"hover:!shadow-none":""});case"card2":default:return a.createElement(d,{className:w?"hover:!shadow-none":""})}})()))):o.map(((e,r)=>a.createElement("li",{key:r,className:"glide__slide "+(w?"":"pb-12 md:pb-16")},(e=>{switch(h){case"card1":return a.createElement(u,{className:w?"hover:!shadow-none":"",author:e});case"card2":default:return a.createElement(c,{className:w?"hover:!shadow-none":"",author:e})}})(e.node)))))),!w&&a.createElement(m,{btnClassName:"w-12 h-12",containerClassName:"justify-center"})))},b=({className:e="",domNode:n,apiSettings:l,sectionIndex:i})=>{const{graphQLvariables:c,settings:d}=l;let m="";"GQL_QUERY_GET_USERS_BY_SPECIFIC"===c.queryString&&(m=N),"GQL_QUERY_GET_USERS_BY_FILTER"===c.queryString&&(m=E);const u=r`
    ${m}
  `,[g,{loading:b,error:S,data:w,fetchMore:v}]=t(u,{variables:c.variables}),{ref:_}=p(g,i),y=(null==w?void 0:w.users.edges)||[],k=b&&!y.length;return s.createPortal((()=>{const{hasBackground:r,subHeading:t,heading:s,itemPerView:n,userCardName:l,blockLayoutStyle:i}=d;return a.createElement("div",{className:`nc-FactoryBlockUsersSlider relative ${r?"py-16":""}  ${e}`,ref:_},r&&a.createElement(o,null),a.createElement("div",{className:"relative"},a.createElement(f,{authorCardName:l,blockLayoutStyle:i,itemPerView:n,authorNodes:y,heading:s,subHeading:t,isLoading:k}),a.createElement(h,{className:"my-5",data:y,error:S,isSkeleton:k})))})(),n)};export{b as default};
