import{r as e,R as t}from"./vendor.9a2c2287.js";import{u as r,a,L as l}from"./hooks.f7cf5f07.js";import{s as n,N as s,P as o,c as i,r as c}from"./main.243c593f.js";import{R as d}from"./index.5582b8b7.js";import{P as u}from"./PostCardLikeAction.9db16b47.js";const m=({className:m=""})=>{var f;const p=e.exports.useRef(null),x=r(n),h=a(),[g,v]=e.exports.useState(0),[w,k]=e.exports.useState(0),[E,b]=e.exports.useState(0),[N,y]=e.exports.useState(0),L=e=>{var t,r,a;const l=null==(a=null==(r=null==(t=e.postFormats)?void 0:t.edges[0])?void 0:r.node)?void 0:a.name;return"Audio"===l?e.ncmazAudioUrl.audioUrl:"Video"===l?e.ncmazVideoUrl.videoUrl:""},j=e=>{let t=Math.floor(e/60),r=""+(e-60*t);return Number(r)<10&&(r="0"+r),t+":"+r};if(!x.postData)return null;const{title:C,featuredImage:M,categories:S,postId:D,link:U,ncPostMetaData:z}=x.postData,B=x.state;return t.createElement("div",{className:`nc-MediaRunningContainer fixed bottom-0 inset-x-0 flex bg-neutral-900 border-t border-neutral-700 z-30 ${m}`,"data-nc-id":"MediaRunningContainer"},t.createElement("div",{className:"h-16 w-full flex items-center justify-between"},t.createElement("div",{className:"w-1/2 pl-2 md:w-1/4 lg:w-[30%] 2xl:w-1/4 flex items-center flex-shrink-0"},t.createElement("a",{href:U,className:"relative flex items-center max-w-[240px] xl:flex-grow space-x-3 pl-12"},t.createElement(s,{containerClassName:"absolute left-0 h-full w-12 h-12 flex-shrink-0 transform",src:null==M?void 0:M.node.sourceUrl,className:"object-cover w-full h-full rounded-full "}),t.createElement("div",{className:"flex-grow overflow-hidden hidden xl:block"},t.createElement("h3",{className:"text-base text-neutral-50 truncate"},C),t.createElement("span",{className:"block text-xs text-neutral-400 truncate"},null==(f=null==S?void 0:S.edges[0])?void 0:f.node.name))),t.createElement("div",{className:"hidden md:flex flex-shrink-0 px-6 dark text-white space-x-2.5"},t.createElement(u,{postId:D,favoriteButtonShortcode:z.favoriteButtonShortcode||""}),t.createElement(o,{href:x.postData.link}))),t.createElement("div",{className:"hidden md:flex flex-grow px-6 items-center justify-center space-x-2.5 text-xs tabular-nums tracking-widest"},t.createElement("div",{className:"flex-shrink-0 w-11 text-right truncate text-neutral-100"},j(Math.floor(w))),t.createElement("div",{className:"h-3 relative flex-grow bg-transparent"},t.createElement("input",{className:"slider absolute z-10 opacity-0 inset-0 h-full w-full cursor-pointer",type:"range",min:0,max:.999999,step:"any",value:E,onChange:e=>{b(parseFloat(e.currentTarget.value))},onMouseUp:e=>{p.current&&p.current.seekTo(parseFloat(e.currentTarget.value))}}),t.createElement("div",{className:"absolute h-1 w-full top-1/2 transform -translate-y-1/2 transition-colors rounded-full bg-neutral-400"}),t.createElement("div",{className:"absolute left-0 top-1/2 h-1 min-w-0 transform -translate-y-1/2 transition-colors rounded-full bg-emerald-500 bg-opacity-50",style:{width:100*N+"%"}}),t.createElement("div",{className:"absolute h-1 min-w-0 left-0 top-1/2 transform -translate-y-1/2 transition-colors rounded-full bg-emerald-500",style:{width:100*E+"%"}},t.createElement("span",{className:"absolute -right-1.5 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full bg-emerald-500"}))),t.createElement("div",{className:"flex-shrink-0 w-11 text-left truncate text-neutral-400"},j(Math.floor(g)))),t.createElement("div",{className:"w-1/2 md:w-1/4 lg:w-[30%] 2xl:w-1/4 pl-5 h-full relative"},t.createElement("div",{className:"absolute right-0 inset-y-0 h-full w-36 max-w-full flex bg-neutral-800 text-neutral-100"},t.createElement("div",{className:"w-1/2 flex-shrink-0 flex items-center justify-center border-r border-neutral-700 cursor-pointer hover:bg-neutral-700",onClick:()=>{if("playing"===x.state)return h(i("paused"));h(i("playing"))}},"loading"===B&&t.createElement(l,{className:"transform scale-50 origin-center"}),"playing"===B&&t.createElement("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15.25 6.75V17.25"}),t.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.75 6.75V17.25"})),"playing"!==B&&"loading"!==B&&t.createElement("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12L5.75 5.75V18.25L18.25 12Z"}))),t.createElement("div",{className:"w-1/2 flex-shrink-0 flex items-center justify-center cursor-pointer hover:bg-neutral-700",onClick:()=>{h(c())}},t.createElement("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.25 6.75L6.75 17.25"}),t.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.75 6.75L17.25 17.25"})))))),x.postData?t.createElement(d,{ref:p,url:L(x.postData),playing:"playing"===x.state||"loading"===x.state,className:"fixed bottom-0 left-0 opacity-0 z-[-1]",width:"100px",height:"100px",onEnded:()=>h(i("ended")),onStart:()=>h(i("playing")),onDuration:e=>v(e),onProgress:e=>{b(e.played),y(e.loaded),k(e.playedSeconds)}}):null)};export{m as default};
