var K=Object.defineProperty,q=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var F=(d,i,l)=>i in d?K(d,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[i]=l,S=(d,i)=>{for(var l in i||(i={}))W.call(i,l)&&F(d,l,i[l]);if(j)for(var l of j(i))Y.call(i,l)&&F(d,l,i[l]);return d},x=(d,i)=>q(d,H(i));import{T as A,E as B,a as e,an as V,j as t,f as o,D as b,S as Z,r as J,aO as X,N as M,m as R,h as ee}from"./main.69024ede.js";import{G as se,a as ae,P as ne}from"./queryGraphql.8ad62ab5.js";import{B as v}from"./ButtonPrimary.40d0352b.js";import{C as ie,a as re}from"./CardCategory1Skeleton.25eff573.js";import{T as le}from"./Tag.b63f8d25.js";import{A as te,S as oe}from"./SectionTrendingCategories.89cc5f44.js";const de=()=>{const i=A`
    ${se}
  `,[l,{loading:E,error:n,data:a,fetchMore:p}]=B(i,{notifyOnNetworkStatusChange:!0}),y=()=>{a!=null&&a.categories.edges.length||l({variables:{first:20,orderby:null,hideEmpty:!0}})},N=(r,{fetchMoreResult:s})=>{var C,c,h;return(C=s==null?void 0:s.categories)!=null&&C.edges.length?x(S({},s),{categories:x(S({},s.categories),{edges:[...(c=r==null?void 0:r.categories)==null?void 0:c.edges,...(h=s==null?void 0:s.categories)==null?void 0:h.edges]})}):r},P=()=>{!p||p({variables:{first:20,after:(a==null?void 0:a.categories.pageInfo.endCursor)||null},updateQuery:N})},T=E&&!(a!=null&&a.categories.edges.length),_=()=>t("div",{className:"flex flex-col items-center space-y-8",children:[e(b,{data:(a==null?void 0:a.categories.edges)||[],isSkeleton:T,error:n}),t("div",{className:"w-full grid gap-6 grid-cols-1 sm:grid-cols-2 sm:py-2 md:gap-8 md:grid-cols-3 lg:grid-cols-4 xl:md:grid-cols-5",children:[T&&Array.from("iiiiiiiiiiiiiiiiiiii").map((r,s)=>e(ie,{},s)),((a==null?void 0:a.categories.edges)||[]).map(r=>e(re,{taxonomy:r.node,size:"normal"},r.node.id))]}),(a==null?void 0:a.categories.pageInfo.hasNextPage)&&e(v,{loading:E,onClick:P,children:o.showMeMore})]});return e("div",{className:"nc-ModalCats",children:e(V,{onOpenModal:y,triggerText:t("span",{children:[e("span",{className:"hidden sm:inline",children:o.otherCategories})," ",e("span",{className:"inline sm:hidden",children:o.categories})]}),modalTitle:o.discoverOtherCategories,renderContent:_})})},ce=()=>{const i=A`
    ${ae}
  `,[l,{error:E,data:n,fetchMore:a,loading:p}]=B(i,{notifyOnNetworkStatusChange:!0}),y=()=>{n!=null&&n.tags.edges.length||l({variables:{first:30}})},N=(r,{fetchMoreResult:s})=>{var C,c,h;return(C=s==null?void 0:s.tags)!=null&&C.edges.length?x(S({},s),{tags:x(S({},s.tags),{edges:[...(c=r==null?void 0:r.tags)==null?void 0:c.edges,...(h=s==null?void 0:s.tags)==null?void 0:h.edges]})}):r},P=()=>{!a||a({variables:{first:30,after:(n==null?void 0:n.tags.pageInfo.endCursor)||null},updateQuery:N})},T=p&&!(n!=null&&n.tags.edges.length),_=()=>t("div",{className:"flex flex-col items-center space-y-5",children:[e(b,{data:(n==null?void 0:n.tags.edges)||[],isSkeleton:T,error:E}),t("div",{className:"w-full flex flex-wrap dark:text-neutral-200",children:[T&&Array.from("iiiiiiiiiiiiiiiiiiiiiiiiiiii").map((r,s)=>e(Z,{height:"38px",className:"mr-2.5 mb-2",width:"90px"},s)),((n==null?void 0:n.tags.edges)||[]).map(r=>e(le,{tag:r.node,className:"mr-2 mb-2"},r.node.id))]}),(n==null?void 0:n.tags.pageInfo.hasNextPage)&&e(v,{loading:p,onClick:P,children:o.showMeMore})]});return e("div",{className:"nc-ModalTags",children:e(V,{contentExtraClass:"max-w-screen-md",onOpenModal:y,triggerText:t("span",{children:[e("span",{className:"hidden sm:inline",children:o.otherTags})," ",e("span",{className:"inline sm:hidden",children:o.tags})]}),modalTitle:o.discoverOtherTags,renderContent:_})})},$=[{name:o.mostRecent,value:"DATE"},{name:o.mostLiked,value:"FAVORITES_COUNT"},{name:o.mostDiscussed,value:"COMMENT_COUNT"},{name:o.mostViewed,value:"VIEWS_COUNT"}],Q=$,ge=({className:d="",termId:i,termData:l,isCategory:E,isFormatAudio:n,isFormatVideo:a,isTag:p,sectionCategoriesTrending:y})=>{var I,k,w;const N=((I=frontendObject.allSettings)==null?void 0:I.readingSettingsPostsPerPage)||20,[P,T]=J.exports.useState(Q[0].value);let _={};p?_={order:"DESC",field:P,tagIn:[i],first:N}:_={order:"DESC",field:P,categoryIn:[i],first:N};const r=A`
    ${ne}
  `,{loading:s,error:C,data:c,fetchMore:h}=X(r,{notifyOnNetworkStatusChange:!0,variables:_}),f=(c==null?void 0:c.posts.edges)||[],D=(g,{fetchMoreResult:m})=>{var L,G,u;return(L=m==null?void 0:m.posts)!=null&&L.edges.length?x(S({},m),{posts:x(S({},m.posts),{edges:[...(G=g==null?void 0:g.posts)==null?void 0:G.edges,...(u=m==null?void 0:m.posts)==null?void 0:u.edges]})}):g},U=g=>{T(g.value)},z=()=>{if(!h)return;const g=f.map(m=>m.node.postId);h({variables:{first:N,notIn:g},updateQuery:D})},O=s&&!f.length;return t("div",{className:`nc-PageArchive ${d}`,"data-nc-id":"PageArchive",children:[e("div",{className:"w-full px-2 xl:max-w-screen-2xl mx-auto",children:t("div",{className:"rounded-3xl relative aspect-w-16 aspect-h-12 sm:aspect-h-8 lg:aspect-h-7 xl:aspect-h-5 overflow-hidden ",children:[e(M,{containerClassName:"absolute inset-0",src:((k=l.ncTaxonomyMeta.featuredImage)==null?void 0:k.sourceUrl)||"https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",className:"object-cover w-full h-full"}),t("div",{className:"absolute inset-0 bg-black text-white bg-opacity-30 flex flex-col items-center justify-center",children:[t("h2",{className:"inline-block align-middle text-4xl sm:text-5xl font-semibold md:text-7xl ",children:[p?"#":"",l.name]}),e("span",{className:"block mt-2 sm:mt-4 text-neutral-300",children:`${l.count||0} ${o.articles}`})]})]})}),t("div",{className:"container py-16 lg:pb-28 lg:pt-24 space-y-16 lg:space-y-28",children:[t("div",{children:[t("div",{className:"flex flex-col sm:items-center sm:justify-between sm:flex-row",children:[t("div",{className:"flex space-x-2.5",children:[e(de,{}),e(ce,{})]}),e("div",{className:"block my-4 border-b w-full border-neutral-100 sm:hidden"}),e("div",{className:"flex justify-end",children:e(te,{onChangeSelect:U,lists:Q})})]}),e(b,{className:"my-5",data:f,error:C,isSkeleton:O}),O||f.length?t("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 2xl:gap-8 mt-8 lg:mt-10",children:[O&&Array.from("88888888").map((g,m)=>e(R,{},m)),f.map(g=>e(ee,{post:g.node},g.node.id))]}):null,((w=c==null?void 0:c.posts.pageInfo)==null?void 0:w.hasNextPage)&&e("div",{className:"flex justify-center mt-12 lg:mt-16",children:e(v,{onClick:z,loading:s,children:o.showMeMore})})]}),y.enable&&e(oe,x(S({},y),{parentId:Number(i),isCategory:!!E}))]})]})};var _e=Object.freeze(Object.defineProperty({__proto__:null,ARCHIVE_PAGE_FILTERS:$,default:ge},Symbol.toStringTag,{value:"Module"}));export{$ as A,de as M,_e as P,ce as a};
