var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{r as n,g as l,u as i,a as d,R as m}from"./vendor.3b208adb.js";import{H as p}from"./Heading.ac513da6.js";import{H as u,c as b,b as f,a as g}from"./Card10Skeleton.cdddadb1.js";import{B as E}from"./BackgroundSection.30b8e4d0.js";import{G as v}from"./glide.esm.699249e3.js";import{n as h}from"./ncNanoId.f7ff4ede.js";import{c as j,C as y,a as w,b as N,g as C,d as S,e as k,f as P}from"./Card14Skeleton.330292cf.js";import{C as _}from"./Card9.81ca4a17.js";import{C as x}from"./Card11.489c75a7.js";import{N as O}from"./NextPrev.9a4e713f.js";import{u as I,D as B,G as H,d as T}from"./main.38f90968.js";import{C as V}from"./Card11Skeleton.7709eb23.js";import"./NavItem.9196150d.js";import"./formatDate.5c5d9c4d.js";import"./PostFeaturedMedia.51066710.js";import"./PostCardLikeAction.b4c5e7c8.js";import"./hooks.311923ab.js";import"./index.1eeac341.js";import"./ButtonPlayMusicRunningContainer.ddfdb527.js";import"./PostCardMeta.594360a7.js";const F=({className:e="",domNode:F,apiSettings:L,sectionIndex:G})=>{const M="FactoryBlockPostsSlider"+h(),{graphQLvariables:Q,settings:R}=L,[$,Y]=n.exports.useState(-1),[D,q]=n.exports.useState(Q.variables||{});n.exports.useEffect((()=>{q(Q.variables)}),[Q]);let A="";"GQL_QUERY_GET_POSTS_BY_FILTER"===Q.queryString&&(A=H),"GQL_QUERY_GET_POSTS_BY_SPECIFIC"===Q.queryString&&(A=T);const U=l`
    ${A}
  `;n.exports.useEffect((()=>{q((e=>{var n,l,i;return l=((e,a)=>{for(var t in a||(a={}))s.call(a,t)&&c(e,t,a[t]);if(r)for(var t of r(a))o.call(a,t)&&c(e,t,a[t]);return e})({},e),i={categoryIn:-1===$?null==(n=Q.variables)?void 0:n.categoryIn:[$]},a(l,t(i))}))}),[$]);const[z,{loading:J,error:K,data:W}]=i(U,{notifyOnNetworkStatusChange:!0,variables:D}),{ref:X}=I(z,G),Z=(null==W?void 0:W.posts.edges)||[],ee=J&&!Z.length,ae=e=>{-1!==e?e.id!==$&&Y(e.id):Y(e)},te="layout-2"===R.blockLayoutStyle||R.showFilterTab,re=R.itemPerView||5,se=new v(`.${M}`,{perView:re,gap:32,bound:!0,breakpoints:{1440:{gap:24},1280:{perView:re-1,gap:24},1023:{perView:re-2||1.2,gap:24},767:{perView:re-2||1.2,gap:20},639:{perView:1.2,gap:20}}});n.exports.useEffect((()=>{se.mount()}),[W,se]);return d.createPortal((()=>{const{hasBackground:a,subHeading:t,heading:r,showFilterTab:s,categories:o,viewMoreHref:c}=R,n=a;return m.createElement("div",{className:`nc-FactoryBlockPostsSlider relative  ${n?"py-16":""}  ${e}`,ref:X},n&&m.createElement(E,null),m.createElement("div",{className:`relative ${M}`},s?m.createElement(u,{tabActiveId:$,tabs:o,viewMoreHref:c,heading:r,subHeading:t,onClickTab:ae}):(()=>{const{heading:e,subHeading:a,blockLayoutStyle:t}=L.settings;return"layout-1"===t?m.createElement(p,{desc:a,hasNextPrev:!0},e):m.createElement(p,{desc:a,isCenter:!0},e)})(),m.createElement("div",{className:"glide__track","data-glide-el":"track"},m.createElement("ul",{className:"glide__slides"},ee?[1,1,1,1,1,1,1,1].map(((e,a)=>m.createElement("li",{key:a,className:"glide__slide "+(te?"pb-12 xl:pb-16":"")},(()=>{switch(L.settings.postCardName){case"card4":return m.createElement(C,{className:te?void 0:"hover:!shadow-sm"});case"card7":return m.createElement(P,null);case"card9":return m.createElement(g,null);case"card10":return m.createElement(f,null);case"card10V2":return m.createElement(k,null);case"card11":return m.createElement(V,{className:te?void 0:"hover:!shadow-sm"});case"card14":return m.createElement(S,null);default:return m.createElement(C,{className:te?void 0:"hover:!shadow-sm"})}})()))):Z.map(((e,a)=>m.createElement("li",{key:a,className:"glide__slide "+(te?"pb-12 xl:pb-16":"")},(e=>{switch(L.settings.postCardName){case"card4":return m.createElement(j,{post:e,className:te?void 0:"hover:!shadow-sm"});case"card7":return m.createElement(N,{post:e});case"card9":return m.createElement(_,{post:e});case"card10":return m.createElement(b,{post:e});case"card10V2":return m.createElement(w,{post:e});case"card11":return m.createElement(x,{post:e,className:te?void 0:"hover:!shadow-sm"});case"card14":return m.createElement(y,{post:e});default:return m.createElement(j,{className:te?void 0:"hover:!shadow-sm",post:e})}})(e.node)))))),m.createElement(B,{className:"my-5",data:Z,error:K,isSkeleton:ee}),te&&m.createElement(O,{btnClassName:"w-12 h-12",containerClassName:"justify-center"})))})(),F)};export{F as default};
