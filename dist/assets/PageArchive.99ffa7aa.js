var W=Object.defineProperty,Y=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var $=(o,s,r)=>s in o?W(o,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[s]=r,C=(o,s)=>{for(var r in s||(s={}))J.call(s,r)&&$(o,r,s[r]);if(Q)for(var r of Q(s))X.call(s,r)&&$(o,r,s[r]);return o},T=(o,s)=>Y(o,Z(s));import{h as v,j as l,d as e,m as P,ac as k,ad as M,a9 as A,a0 as z,x as c,D as O,S as R,ae as ee,N as ae,I as se,z as ne}from"./main.5ffc876d.js";import{B as ie,G as re,a as te,P as le,A as oe,S as de}from"./SectionTrendingCategories.bbf45e2d.js";import{B as w}from"./ButtonPrimary.83e97a5b.js";import{C as ce,a as me}from"./CardCategory1Skeleton.a10f83cf.js";import{T as ge}from"./Tag.9dd3a6b3.js";const D=({renderTrigger:o,renderContent:s,contentExtraClass:r="max-w-screen-xl",contentPaddingClass:S="py-4 px-6 md:py-5",triggerText:t="Open Modal",modalTitle:n="Modal title",isOpenProp:d,onCloseModal:N,onOpenModal:h})=>{let[f,x]=v.exports.useState(!!d);function y(){typeof d!="boolean"&&x(!1),N&&N()}function i(){typeof d!="boolean"&&x(!0),h&&h()}return v.exports.useEffect(()=>{x(!!d)},[d]),l("div",{className:"nc-NcModal",children:[o?o(i):l(ie,{onClick:i,children:[" ",t," "]}),e(P,{appear:!0,show:f,as:v.exports.Fragment,children:e(k,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:y,children:l("div",{className:"min-h-screen px-1 text-center md:px-4",children:[e(P.Child,{as:v.exports.Fragment,enter:"ease-out duration-75",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-75",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(k.Overlay,{className:"fixed inset-0 bg-neutral-900 bg-opacity-50 dark:bg-opacity-80"})}),e("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200B"}),e(P.Child,{as:v.exports.Fragment,enter:"ease-out duration-75",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:l("div",{className:`inline-block w-full my-5 overflow-hidden text-left align-middle transition-all transform bg-white border border-black border-opacity-5 shadow-xl rounded-2xl sm:my-8 dark:bg-neutral-800 dark:border-neutral-700 text-neutral-900 dark:text-neutral-300 ${r}`,children:[l("div",{className:"py-4 px-6 text-center relative border-b border-neutral-100 dark:border-neutral-700 md:py-5",children:[e(M,{onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 sm:left-4"}),n&&e(k.Title,{as:"h3",className:"text-base font-semibold text-neutral-900 lg:text-xl dark:text-neutral-200",children:n})]}),e("div",{className:S,children:s()})]})})]})})})]})},pe=()=>{const s=A`
    ${re}
  `,[r,{loading:S,error:t,data:n,fetchMore:d}]=z(s,{notifyOnNetworkStatusChange:!0}),N=()=>{r({variables:{first:20,orderby:null}})},h=(i,{fetchMoreResult:a})=>{var _,m,b;return(_=a==null?void 0:a.categories)!=null&&_.edges.length?T(C({},a),{categories:T(C({},a.categories),{edges:[...(m=i==null?void 0:i.categories)==null?void 0:m.edges,...(b=a==null?void 0:a.categories)==null?void 0:b.edges]})}):i},f=()=>{!d||d({variables:{first:20,after:(n==null?void 0:n.categories.pageInfo.endCursor)||null},updateQuery:h})},x=S&&!(n!=null&&n.categories.edges.length),y=()=>l("div",{className:"flex flex-col items-center space-y-8",children:[e(O,{data:(n==null?void 0:n.categories.edges)||[],isSkeleton:x,error:t}),l("div",{className:"w-full grid gap-6 grid-cols-1 sm:grid-cols-2 sm:py-2 md:gap-8 md:grid-cols-3 lg:grid-cols-4 xl:md:grid-cols-5",children:[x&&Array.from("iiiiiiiiiiiiiiiiiiii").map((i,a)=>e(ce,{},a)),((n==null?void 0:n.categories.edges)||[]).map(i=>e(me,{taxonomy:i.node,size:"normal"},i.node.id))]}),(n==null?void 0:n.categories.pageInfo.hasNextPage)&&e(w,{loading:S,onClick:f,children:c.showMeMore})]});return e("div",{className:"nc-ModalCats",children:e(D,{onOpenModal:N,triggerText:l("span",{children:[e("span",{className:"hidden sm:inline",children:c.otherCategories})," ",e("span",{className:"inline sm:hidden",children:c.categories})]}),modalTitle:c.discoverOtherCategories,renderContent:y})})},xe=()=>{const s=A`
    ${te}
  `,[r,{error:S,data:t,fetchMore:n,loading:d}]=z(s,{notifyOnNetworkStatusChange:!0}),N=()=>{r({variables:{first:30}})},h=(i,{fetchMoreResult:a})=>{var _,m,b;return(_=a==null?void 0:a.tags)!=null&&_.edges.length?T(C({},a),{tags:T(C({},a.tags),{edges:[...(m=i==null?void 0:i.tags)==null?void 0:m.edges,...(b=a==null?void 0:a.tags)==null?void 0:b.edges]})}):i},f=()=>{!n||n({variables:{first:30,after:(t==null?void 0:t.tags.pageInfo.endCursor)||null},updateQuery:h})},x=d&&!(t!=null&&t.tags.edges.length),y=()=>l("div",{className:"flex flex-col items-center space-y-5",children:[e(O,{data:(t==null?void 0:t.tags.edges)||[],isSkeleton:x,error:S}),l("div",{className:"w-full flex flex-wrap dark:text-neutral-200",children:[x&&Array.from("iiiiiiiiiiiiiiiiiiiiiiiiiiii").map((i,a)=>e(R,{height:"38px",className:"mr-2.5 mb-2",width:"90px"},a)),((t==null?void 0:t.tags.edges)||[]).map(i=>e(ge,{tag:i.node,className:"mr-2 mb-2"},i.node.id))]}),(t==null?void 0:t.tags.pageInfo.hasNextPage)&&e(w,{loading:d,onClick:f,children:c.showMeMore})]});return e("div",{className:"nc-ModalTags",children:e(D,{contentExtraClass:"max-w-screen-md",onOpenModal:N,triggerText:l("span",{children:[e("span",{className:"hidden sm:inline",children:c.otherTags})," ",e("span",{className:"inline sm:hidden",children:c.tags})]}),modalTitle:c.discoverOtherTags,renderContent:y})})},U=[{name:c.mostRecent,value:"DATE"},{name:c.mostLiked,value:"FAVORITES_COUNT"},{name:c.mostDiscussed,value:"COMMENT_COUNT"},{name:c.mostViewed,value:"VIEWS_COUNT"}],V=U,he=({className:o="",termId:s,termData:r,isCategory:S,isFormatAudio:t,isFormatVideo:n,isTag:d,sectionCategoriesTrending:N})=>{var I,L,F;const h=((I=frontendObject.allSettings)==null?void 0:I.readingSettingsPostsPerPage)||20,[f,x]=v.exports.useState(V[0].value);let y={};d?y={order:"DESC",field:f,tagIn:[s],first:h}:y={order:"DESC",field:f,categoryIn:[s],first:h};const i=A`
    ${le}
  `,{loading:a,error:_,data:m,fetchMore:b}=ee(i,{notifyOnNetworkStatusChange:!0,variables:y}),E=(m==null?void 0:m.posts.edges)||[],K=(g,{fetchMoreResult:p})=>{var G,j,B;return(G=p==null?void 0:p.posts)!=null&&G.edges.length?T(C({},p),{posts:T(C({},p.posts),{edges:[...(j=g==null?void 0:g.posts)==null?void 0:j.edges,...(B=p==null?void 0:p.posts)==null?void 0:B.edges]})}):g},q=g=>{x(g.value)},H=()=>{if(!b)return;const g=E.map(p=>p.node.postId);b({variables:{first:h,notIn:g},updateQuery:K})},u=a&&!E.length;return l("div",{className:`nc-PageArchive ${o}`,"data-nc-id":"PageArchive",children:[e("div",{className:"w-full px-2 xl:max-w-screen-2xl mx-auto",children:l("div",{className:"rounded-3xl relative aspect-w-16 aspect-h-12 sm:aspect-h-8 lg:aspect-h-7 xl:aspect-h-5 overflow-hidden ",children:[e(ae,{containerClassName:"absolute inset-0",src:((L=r.ncTaxonomyMeta.featuredImage)==null?void 0:L.sourceUrl)||"https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",className:"object-cover w-full h-full"}),l("div",{className:"absolute inset-0 bg-black text-white bg-opacity-30 flex flex-col items-center justify-center",children:[l("h2",{className:"inline-block align-middle text-4xl sm:text-5xl font-semibold md:text-7xl ",children:[d?"#":"",r.name]}),e("span",{className:"block mt-2 sm:mt-4 text-neutral-300",children:`${r.count||0} ${c.articles}`})]})]})}),l("div",{className:"container py-16 lg:py-28 space-y-16 lg:space-y-28",children:[l("div",{children:[l("div",{className:"flex flex-col sm:items-center sm:justify-between sm:flex-row",children:[l("div",{className:"flex space-x-2.5",children:[e(pe,{}),e(xe,{})]}),e("div",{className:"block my-4 border-b w-full border-neutral-100 sm:hidden"}),e("div",{className:"flex justify-end",children:e(oe,{onChangeSelect:q,lists:V})})]}),e(O,{className:"my-5",data:E,error:_,isSkeleton:u}),u||E.length?l("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 2xl:gap-8 mt-8 lg:mt-10",children:[u&&Array.from("88888888").map((g,p)=>e(se,{},p)),E.map(g=>e(ne,{post:g.node},g.node.id))]}):null,((F=m==null?void 0:m.posts.pageInfo)==null?void 0:F.hasNextPage)&&e("div",{className:"flex justify-center mt-12 lg:mt-16",children:e(w,{onClick:H,loading:a,children:c.showMeMore})})]}),N.enable&&e(de,T(C({},N),{parentId:Number(s),isCategory:!!S}))]})]})};var Te=Object.freeze(Object.defineProperty({__proto__:null,ARCHIVE_PAGE_FILTERS:U,default:he},Symbol.toStringTag,{value:"Module"}));export{U as A,pe as M,Te as P,xe as a};
