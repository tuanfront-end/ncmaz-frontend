import{R as e,S as t,r as a,ap as n,Z as l,_ as r}from"./vendor.dc527a72.js";import{N as s,g as o,K as d,i,D as c}from"./main.09a7fb3e.js";const m=({className:t="h-full",post:a})=>{var n,l,r,i,c,m,u;const{link:g,categories:f,title:v,featuredImage:b,postFormats:p}=a,h=null==(n=null==p?void 0:p.edges[0])?void 0:n.node.slug;return e.createElement("div",{className:`nc-Card18 group relative flex flex-col ${t}`,"data-nc-id":"Card18"},e.createElement("div",{className:"w-full block h-0 aspect-h-9 aspect-w-10 rounded-2xl overflow-hidden"},e.createElement(s,{containerClassName:"absolute inset-0 ",src:(null==b?void 0:b.node.sourceUrl)||".",alt:v}),e.createElement("div",null,e.createElement(o,{className:"absolute left-1.5 bottom-1.5",postType:h,wrapSize:"w-8 h-8",iconSize:"w-4 h-4"})),e.createElement("div",{className:"bg-transparent group-hover:bg-gray-900/30 transform transition-colors"})),e.createElement("div",{className:"absolute top-1.5 inset-x-1.5 flex justify-between "},e.createElement(d,{className:"relative z-10",name:null==(r=null==(l=null==f?void 0:f.edges[0])?void 0:l.node)?void 0:r.name,href:null==(c=null==(i=null==f?void 0:f.edges[0])?void 0:i.node)?void 0:c.link,color:null==(u=null==(m=null==f?void 0:f.edges[0])?void 0:m.node)?void 0:u.ncTaxonomyMeta.color})),e.createElement("h3",{className:"block mt-2 font-medium text-sm"},e.createElement("span",{className:"line-clamp-2",dangerouslySetInnerHTML:{__html:v}})),e.createElement("a",{href:g,className:"absolute inset-0"}))},u=({className:a="h-full"})=>e.createElement("div",{className:`nc-Card18Skeleton group relative flex flex-col ${a}`,"data-nc-id":"Card18Skeleton"},e.createElement("div",{className:"w-full block h-0 aspect-h-9 aspect-w-10 rounded-2xl overflow-hidden"},e.createElement(s,{containerClassName:"absolute inset-0 ",src:"."}),e.createElement("div",null,e.createElement(o,{className:"absolute left-1.5 bottom-1.5",wrapSize:"w-8 h-8",iconSize:"w-4 h-4"})),e.createElement("div",{className:"bg-transparent group-hover:bg-gray-900/30 transform transition-colors"})),e.createElement("div",{className:"absolute top-1.5 inset-x-1.5 flex justify-between "},e.createElement(t,{width:"40%"})),e.createElement("h3",{className:"block mt-2 font-medium text-sm"},e.createElement(t,{width:"80%"}),e.createElement(t,{width:"60%"}))),g=({domNode:t,menuItemData:s})=>{var o,d,g;const{ncmazMenuCustomFields:f}=s,[v,b]=a.exports.useState(null==(d=null==(o=null==f?void 0:f.taxonomies)?void 0:o[0])?void 0:d.categoryId),{taxonomies:p,numberOfPosts:h,order:E,orderBy:N,showTabFilter:y}=f;let x={},I=[];I=y?[v]:(null==p?void 0:p.map((e=>e.categoryId)))||[],x={categoryIn:I,first:Number(h)};const w=n`
    ${"\n  query Megamenu_Filter(\n    $field: PostObjectsConnectionOrderbyEnum = DATE\n    $order: OrderEnum = DESC\n    $categoryIn: [ID] = []\n    $tagIn: [ID] = []\n    $authorIn: [ID] = []\n    $last: Int = null\n    $first: Int = 10\n    $before: String = null\n    $after: String = null\n    $featuredImage_size: MediaItemSizeEnum = MEDIUM\n  ) {\n    posts(\n      where: {\n        orderby: { field: $field, order: $order }\n        categoryIn: $categoryIn\n        tagIn: $tagIn\n        authorIn: $authorIn\n      }\n      last: $last\n      first: $first\n      before: $before\n      after: $after\n    ) {\n      edges {\n  node {\n    id\n    link\n    categories {\n      edges {\n        node {\n          id\n          link\n          name\n          uri\n          slug\n          count\n          categoryId\n          ncTaxonomyMeta {\n            color \n          } \n        } \n      } \n    }\n    commentCount\n    date\n    excerpt\n    featuredImage {\n      node {\n        id\n        altText\n        caption\n        sourceUrl(size: $featuredImage_size) \n      } \n    }\n    postFormats {\n      edges {\n        node {\n          id\n          name \n        } \n      } \n    }\n    postId\n    slug\n    title \n  } \n}\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        endCursor\n        startCursor \n      } \n    }\n  }\n"}
  `,[k,{loading:$,error:C,data:S,fetchMore:P}]=l(w,{notifyOnNetworkStatusChange:!0,variables:x}),{ref:M}=i(k,99),z=null==(g=null==S?void 0:S.posts)?void 0:g.pageInfo,D=(null==S?void 0:S.posts.edges)||[],j=$,T=(e,{fetchMoreResult:t})=>{var a;return(null==(a=null==t?void 0:t.posts)?void 0:a.edges.length)?t:e},F=()=>{const{taxonomies:t}=s.ncmazMenuCustomFields;return e.createElement("div",{className:"w-1/5 py-8 flex-shrink-0  "},e.createElement("div",{className:"flow-root"},e.createElement("div",null,(t||[]).map((t=>{const a=t.categoryId===v;return e.createElement("a",{href:t.link,className:"py-2.5 px-5 flex items-center !m-0 relative "+(a?"bg-neutral-100 dark:bg-neutral-800 ":""),key:t.categoryId,onMouseEnter:()=>{b(t.categoryId)}},a&&e.createElement("span",{className:"absolute left-0 w-1 h-full top-0 bg-primary-500"}),t.name)})))))},_=()=>e.createElement("div",{className:"flex-grow "+(y?"border-l border-neutral-200 dark:border-neutral-800":"")},e.createElement("div",{className:"px-4 py-5 "},e.createElement(c,{className:"my-5",data:D,error:C,isSkeleton:j}),j||D.length?e.createElement("div",{className:"grid gap-4 "+(y?"grid-cols-4":"grid-cols-5")},j?Array.from(y?"88888888":"8888888888").map(((t,a)=>e.createElement(u,{key:a}))):D.map((t=>e.createElement(m,{post:t.node,key:t.node.id})))):null,(()=>{if(!(null==z?void 0:z.hasPreviousPage)&&!(null==z?void 0:z.hasNextPage))return null;let t="w-10 h-10 bg-white dark:bg-neutral-900 border border-neutral-200 hover:border-neutral-300 dark:border-neutral-6000 dark:hover:border-neutral-500 rounded-full flex items-center justify-center  -- disabled:opacity-70 disabled:text-gray-500  disabled:cursor-default disabled:hover:border-neutral-200 dark:disabled:hover:border-neutral-6000";return e.createElement("div",{className:"nc-NextPrev mt-8 ml-2 relative flex items-center justify-center text-neutral-900 dark:text-neutral-300 space-x-2.5 "},e.createElement("button",{className:t,disabled:!z.hasPreviousPage,onClick:()=>{P&&P({variables:{first:null,after:null,last:Number(h),before:z.startCursor||null},updateQuery:T})}},e.createElement("i",{className:"las la-angle-left"})),e.createElement("button",{className:t,disabled:!z.hasNextPage,onClick:()=>{P&&P({variables:{first:Number(h),after:z.endCursor||null,last:null,before:null},updateQuery:T})}},e.createElement("i",{className:"las la-angle-right"})))})()));return r.createPortal(e.createElement("div",{ref:M,className:"nc-megamenu-item absolute top-full py-3 -inset-x-10"},e.createElement("div",{className:"w-full flex overflow-hidden rounded-2xl shadow-lg ring-1 ring-black dark:ring-white ring-opacity-5 dark:ring-opacity-10 text-sm relative bg-white dark:bg-neutral-900 "},y&&F(),_())),t)};export{g as default};
