import{R as e,r as t}from"./vendor.3b208adb.js";import{t as l,B as r,N as a,e as o,b as n}from"./main.38f90968.js";import{P as s}from"./PostCardLikeAction.b4c5e7c8.js";import{N as i}from"./NextPrev.9a4e713f.js";import{L as c}from"./hooks.311923ab.js";import{R as m}from"./index.1eeac341.js";import{B as u}from"./ButtonPlayMusicRunningContainer.ddfdb527.js";const d=({className:t="flex px-3 h-8 text-xs",href:r,commentCount:a})=>e.createElement("a",{href:r+"#comments",className:`nc-PostCardCommentBtn relative items-center min-w-[68px] rounded-full text-neutral-6000 bg-neutral-50 transition-colors dark:text-neutral-200 dark:bg-neutral-800 hover:bg-teal-50 dark:hover:bg-teal-100 hover:text-teal-600 dark:hover:text-teal-500 ${t} ${l()}`,title:"Comments","data-nc-id":"PostCardCommentBtn"},e.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M4.75 6.75C4.75 5.64543 5.64543 4.75 6.75 4.75H17.25C18.3546 4.75 19.25 5.64543 19.25 6.75V14.25C19.25 15.3546 18.3546 16.25 17.25 16.25H14.625L12 19.25L9.375 16.25H6.75C5.64543 16.25 4.75 15.3546 4.75 14.25V6.75Z"}),e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 11C9.5 11.2761 9.27614 11.5 9 11.5C8.72386 11.5 8.5 11.2761 8.5 11C8.5 10.7239 8.72386 10.5 9 10.5C9.27614 10.5 9.5 10.7239 9.5 11Z"}),e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M12.5 11C12.5 11.2761 12.2761 11.5 12 11.5C11.7239 11.5 11.5 11.2761 11.5 11C11.5 10.7239 11.7239 10.5 12 10.5C12.2761 10.5 12.5 10.7239 12.5 11Z"}),e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M15.5 11C15.5 11.2761 15.2761 11.5 15 11.5C14.7239 11.5 14.5 11.2761 14.5 11C14.5 10.7239 14.7239 10.5 15 10.5C15.2761 10.5 15.5 10.7239 15.5 11Z"})),e.createElement("span",{className:"ml-1 text-neutral-900 dark:text-neutral-200"},a)),f=({className:t="",itemClass:l="px-3 h-8 text-xs",hiddenCommentOnMobile:r=!0,postData:a,onClickLike:o=(()=>{})})=>{var n;return e.createElement("div",{className:`nc-PostCardLikeAndComment flex items-center space-x-2 ${t}`,"data-nc-id":"PostCardLikeAndComment"},e.createElement(s,{postId:a.postId,onClick:()=>o(a.postId),favoriteButtonShortcode:(null==(n=null==a?void 0:a.ncPostMetaData)?void 0:n.favoriteButtonShortcode)||""}),e.createElement(d,{href:a.link,commentCount:a.commentCount||0,className:`${r?"hidden sm:flex":"flex"}  ${l}`}))},p=({className:t="",itemClass:l="",categories:a})=>e.createElement("div",{className:"nc-CategoryBadgeList flow-root ","data-nc-id":"CategoryBadgeList"},e.createElement("div",{className:`flex flex-wrap space-x-2 -my-1 ${t}`},(a||{edges:[]}).edges.map(((t,a)=>{var o,n;return e.createElement(r,{className:`relative my-1 ${l}`,key:a,name:t.node.name,href:t.node.link,color:null==(n=null==(o=t.node)?void 0:o.ncTaxonomyMeta)?void 0:n.color})}))));const v=({galleryImgs:l})=>{const r=t.exports.useRef(null),o=t.exports.useRef(null),n=t.exports.useRef(null),[s,c]=t.exports.useState(!1),[m,u]=t.exports.useState(!0),[d,f]=t.exports.useState(0);return t.exports.useEffect((()=>{!function(){var e,t,l;const a=r.current;if(!a)return;const s=(null==(e=a.querySelector("div"))?void 0:e.clientWidth)||0,i=()=>{a.scrollTo(a.scrollLeft+s,0)},m=()=>{a.scrollTo(a.scrollLeft-s,0)};null==(t=o.current)||t.addEventListener("click",i),null==(l=n.current)||l.addEventListener("click",m),a.addEventListener("scroll",(function(){d()}));const d=function(e,t=300){let l;return(...r)=>{clearTimeout(l),l=setTimeout((()=>{e.apply(this,r)}),t)}}((function(){u(!1),c(!1),f(Math.floor(a.scrollLeft/s)),a.clientWidth+a.scrollLeft>=a.scrollWidth?c(!0):0===a.scrollLeft&&u(!0)}),500)}()}),[l]),e.createElement("div",{className:"nc-gallerySlider group relative z-10 xl:z-auto w-full h-full"},e.createElement("div",{className:" h-full gallery_scroller hiddenScrollbar scrollBehaviorSmooth",ref:r},l.map(((t,l)=>e.createElement("div",{className:" h-full w-full flex-shrink-0 ",key:l},e.createElement(a,{src:t,containerClassName:"w-full h-full"}))))),e.createElement("div",{className:""},e.createElement("div",{ref:n,className:"absolute opacity-0 group-hover:opacity-100 z-20 left-2 top-1/2 transform -translate-y-1/2 "},!m&&e.createElement(i,{onlyPrev:!0,btnClassName:"w-8 h-8"})),e.createElement("div",{ref:o,className:"absolute opacity-0 group-hover:opacity-100 z-20 right-2 top-1/2 transform -translate-y-1/2 "},!s&&e.createElement(i,{onlyNext:!0,btnClassName:"w-8 h-8"}))),e.createElement("div",{className:"absolute w-full left-0 bottom-0 h-6 bg-gradient-to-t from-neutral-800/50"}),e.createElement("div",{className:"absolute z-10 bottom-3 left-0 w-full flex items-center justify-center glide__bullets"},l.map(((t,l)=>e.createElement("div",{key:l,className:"glide__bullet w-[5px] h-[5px] bg-neutral-200 bg-opacity-50 rounded-full mx-0.5 "+(l===d?"glide__bullet--active":"")})))))},g=({videoUrl:l,isHover:r,featuredImage:s})=>{let i=null;const u=t.exports.useRef(null),[d,f]=t.exports.useState(!0),[p,v]=t.exports.useState(!1),[g,x]=t.exports.useState(!1),[h,E]=t.exports.useState(0),[b,C]=t.exports.useState(!1);let N=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(N=!0);const y=o(u,{freezeOnceVisible:!1,threshold:.999,rootMargin:"-20px 0px"});t.exports.useEffect((()=>{if(!y)return;const e=((null==y?void 0:y.intersectionRatio)||-1)>h;C(e),E((null==y?void 0:y.intersectionRatio)||0)}),[y]),t.exports.useEffect((()=>{if(p)return i&&clearTimeout(i),i=setTimeout((()=>{v(!1)}),2e3),()=>{i&&clearTimeout(i)}}),[p]);const k=N?b:r;t.exports.useEffect((()=>{if(!k)return x(!1)}),[k]);return e.createElement("div",{className:"nc-MediaVideo absolute inset-0",ref:u},(!l||!k)&&e.createElement(a,{containerClassName:"absolute inset-0",src:(null==s?void 0:s.node.sourceUrl)||"."}),!!l&&!k&&e.createElement("span",{className:"absolute inset-0 flex items-center justify-center "},e.createElement(n,{className:"hover:scale-105 transform cursor-pointer transition-transform nc-will-change-transform",postType:"post-format-video"})),!!l&&k&&e.createElement("div",null,e.createElement(m,{url:l,muted:d,playing:!0,style:{opacity:g?1:0,display:g?"block":"none"},className:" absolute bg-neutral-900 inset-0",width:"100%",height:"100%",onStart:()=>{v((()=>!0)),x((()=>!0))}}),e.createElement("div",{className:(g?"opacity-0 hidden":"opacity-100")+" absolute bg-neutral-900 bg-opacity-30 flex items-center justify-center inset-0"},e.createElement(c,null)),e.createElement("div",{className:"absolute z-20 bottom-2 left-2 h-6 rounded-full bg-black bg-opacity-70 text-white flex items-center justify-center text-sm transform transition-transform nc-will-change-transform "+(p?"pl-[6px] pr-2":"w-6 hover:scale-125"),onClick:()=>f(!d)},d?e.createElement(e.Fragment,null,e.createElement("i",{className:"las la-volume-off"}),p&&e.createElement("span",{className:"ml-1 inline-block text-[9px]"},"Click here to unmute")):e.createElement("i",{className:"las la-volume-up"}))))},x=({post:t})=>{var l;return e.createElement("div",null,e.createElement(a,{containerClassName:"absolute inset-0",src:(null==(l=t.featuredImage)?void 0:l.node.sourceUrl)||"."}),t.ncmazAudioUrl.audioUrl?e.createElement(u,{className:"absolute bg-neutral-900 bg-opacity-30 flex items-center justify-center inset-0",post:t}):e.createElement("span",{className:"absolute inset-0 flex items-center justify-center "},e.createElement(n,{className:"hover:scale-105 transform cursor-pointer transition-transform nc-will-change-transform",postType:"post-format-audio"})))};function h(e){const{image1:t,image2:l,image3:r,image4:a,image5:o,image6:n,image7:s,image8:i,image9:c,image10:m}=e;return[(null==t?void 0:t.sourceUrl)||"",(null==l?void 0:l.sourceUrl)||"",(null==r?void 0:r.sourceUrl)||"",(null==a?void 0:a.sourceUrl)||"",(null==o?void 0:o.sourceUrl)||"",(null==n?void 0:n.sourceUrl)||"",(null==s?void 0:s.sourceUrl)||"",(null==i?void 0:i.sourceUrl)||"",(null==c?void 0:c.sourceUrl)||"",(null==m?void 0:m.sourceUrl)||""].filter((e=>!!e))}const E=({className:l="w-full h-full",post:r,isHover:o=!1})=>{var n,s;const{featuredImage:i,postFormats:c,ncmazVideoUrl:m,ncmazGalleryImgs:u}=r,d=null==(s=null==(n=null==c?void 0:c.edges[0])?void 0:n.node)?void 0:s.slug;return e.createElement("div",{className:`nc-PostFeaturedMedia relative ${l}`,"data-nc-id":"PostFeaturedMedia"},"post-format-gallery"===d?(()=>{const l=h(u);return l.length?e.createElement(t.exports.Fragment,null,e.createElement(a,{containerClassName:"absolute inset-0",src:"."}),e.createElement(v,{galleryImgs:l})):e.createElement(a,{containerClassName:"absolute inset-0",src:(null==i?void 0:i.node.sourceUrl)||"."})})():"post-format-video"===d?e.createElement(g,{featuredImage:i,isHover:o,videoUrl:m.videoUrl}):"post-format-audio"===d?e.createElement(x,{post:r}):e.createElement("div",{className:"absolute inset-0"},e.createElement(a,{containerClassName:"absolute inset-0",src:(null==i?void 0:i.node.sourceUrl)||"."})))};export{p as C,f as P,E as a,h as g};
