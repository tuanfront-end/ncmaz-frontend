var N=Object.defineProperty;var u=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var f=(r,t,e)=>t in r?N(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,h=(r,t)=>{for(var e in t||(t={}))S.call(t,e)&&f(r,e,t[e]);if(u)for(var e of u(t))k.call(t,e)&&f(r,e,t[e]);return r};import{b as o,j as a,r as w,a as y}from"./main.85963571.js";import{N as v}from"./NcImage.bea75434.js";import{P as C}from"./PostCardMeta.d5b9aa12.js";import{S as p}from"./index.198f6b73.js";import{W as P}from"./WidgetHeading1.21208d56.js";import{D as I}from"./DataStatementBlockV2.f13bb1a3.js";import{u as L}from"./useGqlQuerySection.603be7ff.js";import{u as j}from"./useGutenbergSectionWithGQLGetPosts.4e14ecfb.js";import"./formatDate.5c5d9c4d.js";import"./EmptyState.a9cc8fa3.js";import"./useIntersectionObserver.e91dfa75.js";import"./useQuery.02694860.js";import"./useLazyQuery.f1e3d5e8.js";const W=({className:r="h-full",post:t})=>{const{title:e,link:l,featuredImage:s}=t;return o("div",{className:`nc-Card3Small relative flex justify-between sm:items-center ${r}`,"data-nc-id":"Card3Small",children:[a("a",{href:l,className:" absolute inset-0",title:e}),o("div",{className:"grid grid-cols-1 relative space-y-2 overflow-hidden flex-grow",children:[a(C,{className:"w-full",meta:h({},t)}),a("h3",{className:"nc-card-title block text-sm sm:text-base font-semibold text-neutral-900 dark:text-neutral-100",children:a("a",{href:l,className:"line-clamp-2",title:e,dangerouslySetInnerHTML:{__html:e||""}})})]}),a("a",{href:l,title:e,className:"block w-20 flex-shrink-0 relative rounded-lg overflow-hidden ml-4 group z-0",children:a("div",{className:"w-full h-0 aspect-w-16 aspect-h-16",children:a(v,{containerClassName:"absolute inset-0",className:"object-cover w-full h-full group-hover:scale-110 transform transition-transform duration-300",src:(s==null?void 0:s.node.sourceUrl)||".",title:e})})})]})},_=({className:r="h-full"})=>o("div",{className:`nc-Card3SmallSkeleton relative flex justify-between sm:items-center ${r}`,"data-nc-id":"Card3SmallSkeleton",children:[o("div",{className:"relative  space-y-2 flex-grow overflow-hidden",children:[a(p,{width:"50%"}),a("h3",{className:"nc-card-title block text-base font-semibold text-neutral-900 dark:text-neutral-100",children:a(p,{width:"80%"})})]}),a("div",{className:"block w-20 flex-shrink-0 relative rounded-lg overflow-hidden ml-4 group",children:a("div",{className:"w-full h-0 aspect-w-16 aspect-h-16",children:a(v,{containerClassName:"absolute inset-0",className:"object-cover w-full h-full group-hover:scale-110 transform transition-transform duration-300",src:"."})})})]}),A=({className:r="bg-neutral-100 dark:bg-neutral-800",heading:t="",posts:e,isLoading:l,postLoading:s=[1,1,1,1]})=>o("div",{className:`nc-WidgetPosts rounded-3xl overflow-hidden ${r}`,"data-nc-id":"WidgetPosts",children:[t&&a(P,{title:t}),a("div",{className:"flex flex-col divide-y divide-neutral-200 dark:divide-neutral-700",children:l?s.map((n,i)=>a(_,{className:"p-4 xl:px-5 xl:py-6 hover:bg-neutral-200 dark:hover:bg-neutral-700"},i)):e.map((n,i)=>a(W,{className:"p-4 xl:px-5 xl:py-6 hover:bg-neutral-200 dark:hover:bg-neutral-700",post:n.node},i))})]}),Y=({domNode:r,apiSettings:t,sectionIndex:e})=>{const{graphQLvariables:l,settings:s,graphQLData:n}=t,i=!l&&!!n,{funcGqlQueryGetPosts:g,loading:G,IS_SKELETON:c,LISTS_POSTS:m,data:T,error:b,fetchMore:D,setTabActiveId:Q,tabActiveId:M}=j({graphQLData:n,graphQLvariables:l});let d=null;i?d=w.exports.useRef(null):d=L(g,e).ref;const x=()=>o("div",{ref:d,children:[a(A,{posts:m,isLoading:c,heading:s.heading,postLoading:Array.from(Array(Number(s.expectedNumberResults||8)||8).keys())}),a(I,{className:"my-5",data:m,error:b,isSkeleton:c})]});return y.createPortal(x(),r)};export{Y as default};
