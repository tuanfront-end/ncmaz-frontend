var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,n=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&c(e,a,t[a]);if(r)for(var a of r(t))l.call(t,a)&&c(e,a,t[a]);return e},o=(e,r)=>t(e,a(r));import{R as m,S as i,r as d,g as u,u as p,a as f}from"./vendor.9a2c2287.js";import{H as b}from"./Heading.efb978b7.js";import{H as E,c as v,b as x,a as g}from"./Card10Skeleton.b6aa5152.js";import{B as h}from"./BackgroundSection.6c11eca0.js";import{C as k,a as y,b as N,c as w,d as j,e as C,f as P,g as S}from"./Card14Skeleton.693ab2d1.js";import{C as M}from"./Card9.09cea57a.js";import{C as I}from"./Card11.71da32c2.js";import{a as B,C as H}from"./Card15PodcastSkeleton.c623cb4f.js";import{P as O,N as $,a as D,D as z,b as L}from"./main.8e32517a.js";import{P as T}from"./PostCardMeta.96904e1e.js";import{C as _,P as F}from"./PostFeaturedMedia.d233639f.js";import{B as R}from"./ButtonPrimary.a1018234.js";import{C as A}from"./Card11Skeleton.1a4b7623.js";import"./NextPrev.44c338c4.js";import"./NavItem.fd9986d6.js";import"./formatDate.5c5d9c4d.js";import"./PostCardLikeAction.9db16b47.js";import"./ButtonPlayMusicRunningContainer.500fc43c.js";import"./hooks.f7cf5f07.js";import"./ncNanoId.3f36f1af.js";import"./index.5582b8b7.js";const Q=({className:e="h-full",size:t="large",post:a})=>{var r;const{title:s,link:l,featuredImage:c,excerpt:o,categories:i,postFormats:d,ncPostMetaData:u}=a,p=null==(r=null==d?void 0:d.edges[0])?void 0:r.node.name;return m.createElement("div",{className:`nc-Card3 relative flex flex-col-reverse sm:flex-row sm:items-center rounded-[40px] group ${e}`,"data-nc-id":"Card3"},m.createElement("a",{href:l,className:"absolute inset-0"}),m.createElement("div",{className:"flex flex-col flex-grow"},m.createElement("div",{className:"space-y-3.5 mb-4"},m.createElement(_,{categories:i}),m.createElement("div",null,m.createElement("h2",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100  "+("large"===t?"text-xl":"text-base")},m.createElement("a",{href:l,className:"line-clamp-2",title:s},s)),"large"===t&&!!o&&m.createElement("div",{className:"hidden sm:block sm:mt-2"},m.createElement("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1",dangerouslySetInnerHTML:{__html:o}}))),m.createElement(T,{meta:n({},a)})),m.createElement("div",{className:"flex items-center flex-wrap justify-between mt-auto"},m.createElement(F,{postData:a}),m.createElement("div",{className:"flex items-center space-x-2 text-xs text-neutral-700 dark:text-neutral-300 "},m.createElement("span",{dangerouslySetInnerHTML:{__html:u.readingTimeShortcode||""}}),m.createElement(O,{href:a.link})))),m.createElement("div",{className:`block flex-shrink-0 ${"large"===t?"sm:w-56 sm:ml-6 rounded-3xl":"sm:w-40 sm:ml-5 rounded-2xl"} overflow-hidden mb-5 sm:mb-0`},m.createElement("a",{href:l,className:"w-full block h-0 aspect-h-9 sm:aspect-h-16 aspect-w-16 "},m.createElement($,{containerClassName:"absolute inset-0",src:(null==c?void 0:c.node.sourceUrl)||".",alt:s}),m.createElement("span",null,m.createElement(D,{className:"absolute left-2 bottom-2",postType:p,wrapSize:"w-8 h-8",iconSize:"w-4 h-4"})))))},V=({className:e="h-full",size:t="large"})=>m.createElement("div",{className:`nc-Card3Skeleton relative flex flex-col-reverse sm:flex-row sm:items-center rounded-[40px] group ${e}`,"data-nc-id":"Card3Skeleton"},m.createElement("div",{className:"flex flex-col flex-grow"},m.createElement("div",{className:"space-y-3.5 mb-4"},m.createElement(i,{width:"30%"}),m.createElement("div",null,m.createElement("h2",{className:"nc-card-title block font-semibold text-neutral-900 dark:text-neutral-100  "+("large"===t?"text-xl":"text-base")},m.createElement(i,{width:"80%"})),"large"===t&&m.createElement("div",{className:"hidden sm:block sm:mt-2"},m.createElement("span",{className:"text-neutral-500 dark:text-neutral-400 text-base line-clamp-1"},m.createElement(i,{width:"90%"})))),m.createElement(i,{width:"90%"})),m.createElement("div",{className:"flex items-center flex-wrap justify-between mt-auto opacity-0"},"zz")),m.createElement("div",{className:`block flex-shrink-0 ${"large"===t?"sm:w-56 sm:ml-6 rounded-3xl":"sm:w-40 sm:ml-5 rounded-2xl"} overflow-hidden mb-5 sm:mb-0`},m.createElement("div",{className:"w-full block h-0 aspect-h-9 sm:aspect-h-16 aspect-w-16 "},m.createElement($,{containerClassName:"absolute inset-0",src:"."})))),q=({className:e="",domNode:t,apiSettings:a})=>{const{graphQLvariables:r,settings:s}=a,[l,c]=d.exports.useState(-1),[i,O]=d.exports.useState(r.variables||{});d.exports.useEffect((()=>{O(r.variables)}),[r]);const $=u`
    ${r.queryString}
  `;d.exports.useEffect((()=>{O((e=>{var t;return o(n({},e),{categoryIn:-1===l?null==(t=r.variables)?void 0:t.categoryIn:[l]})}))}),[l]);const{loading:D,error:T,data:_,fetchMore:F}=p($,{notifyOnNetworkStatusChange:!0,variables:i}),q=(null==_?void 0:_.posts.edges)||[],G=D&&!q.length,{hasBackground:U,heading:J,subHeading:K,viewMoreHref:W,gridClass:X,gridClassCustom:Y,showFilterTab:Z,blockLayoutStyle:ee,enableLoadMoreButton:te,loadMoreButtonHref:ae,filterDataBy:re}=s,se=e=>{-1!==e?e.id!==l&&c(e.id):c(e)},le=(e,{fetchMoreResult:t})=>{var a,r,s;return(null==(a=null==t?void 0:t.posts)?void 0:a.edges.length)?o(n({},t),{posts:o(n({},t.posts),{edges:[...null==(r=null==e?void 0:e.posts)?void 0:r.edges,...null==(s=null==t?void 0:t.posts)?void 0:s.edges]})}):e},ce=e=>{if(!F||"by_specific"===re||ae)return;e.preventDefault();const t=q.map((e=>e.node.postId));F({variables:{notIn:t},updateQuery:le})},ne=(e,t)=>{switch(a.settings.postCardName){case"card3":return m.createElement(V,{key:t,className:"p-3 sm:p-5 2xl:p-6 [ nc-box-has-hover ] [ nc-dark-box-bg-has-hover ]"});case"card4":return m.createElement(S,{key:t});case"card7":return m.createElement(P,{key:t,ratio:"aspect-w-5 aspect-h-5"});case"card9":return m.createElement(g,{key:t});case"card10":return m.createElement(x,{key:t});case"card10V2":return m.createElement(C,{key:t});case"card11":return m.createElement(A,{key:t});case"card14":return m.createElement(j,{key:t});case"card15Podcast":return m.createElement(H,{key:t});default:return null}};return f.createPortal((()=>{var t;const r=U;return m.createElement("div",{className:`nc-FactoryBlockPostsGrid relative ${r?"py-16":""}  ${e}`},r&&m.createElement(h,null),m.createElement("div",{className:"relative"},Z?m.createElement(E,{tabActiveId:l,tabs:s.categories,viewMoreHref:W,heading:J,subHeading:K,onClickTab:se}):"layout-1"===ee?m.createElement(b,{desc:K},J):m.createElement(b,{desc:K,isCenter:!0},J),m.createElement("div",{className:`grid gap-6 md:gap-8 ${Y||X}`},G?[1,1,1,1,1,1,1,1].map(ne):q.map((e=>(e=>{switch(a.settings.postCardName){case"card3":return m.createElement(Q,{key:e.id,className:"p-3 sm:p-5 2xl:p-6 [ nc-box-has-hover ] [ nc-dark-box-bg-has-hover ]",post:e});case"card4":return m.createElement(w,{key:e.id,post:e});case"card7":return m.createElement(N,{key:e.id,post:e,ratio:"aspect-w-5 aspect-h-5"});case"card9":return m.createElement(M,{key:e.id,post:e});case"card10":return m.createElement(v,{key:e.id,post:e});case"card10V2":return m.createElement(y,{key:e.id,post:e});case"card11":return m.createElement(I,{key:e.id,post:e});case"card14":return m.createElement(k,{key:e.id,post:e});case"card15Podcast":return m.createElement(B,{key:e.id,post:e});default:return null}})(e.node)))),m.createElement(z,{className:"my-5",data:q,error:T,isSkeleton:G}),te?ae?m.createElement("div",{className:"flex mt-20 justify-center items-center"},m.createElement(R,{href:ae},L.showMeMore)):"by_specific"!==re&&(null==(t=null==_?void 0:_.posts.pageInfo)?void 0:t.hasNextPage)?m.createElement("div",{className:"flex mt-20 justify-center items-center"},m.createElement(R,{onClick:ce,loading:D},L.showMeMore)):null:null))})(),t)};export{q as default};
